<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1"><!--NewPage--><!-- Extract of javadoc -->


<title>Lok Geschwindigkeit</title><meta name="date" content="2009-09-23">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript">
function windowTitle()
{
if (location.href.indexOf('is-external=true') == -1) {
parent.document.title="Lok Geschwindigkeit";
}
}
</script></head>
<body onload="windowTitle();" style="background-color: white;">
<hr>
&nbsp;
<table style="width: 100%;" summary="" border="0" cellpadding="1" cellspacing="0">
<tbody>
<tr>
<td colspan="2" class="NavBarCell1" bgcolor="#eeeeff">
<table summary="" border="0" cellpadding="0" cellspacing="3">
<tbody>
<tr align="center" valign="top">
<td class="NavBarCell1" bgcolor="#eeeeff">
<a href="../../overview-summary.html"><font class="NavBarFont1"><b>Überblick</b></font></a>&nbsp;</td>
<td class="NavBarCell1" bgcolor="#eeeeff">
<a href="kapitel-summary.html"><font class="NavBarFont1"><b>Kapitel</b></font></a>&nbsp;</td>
<td class="NavBarCell1" bgcolor="#eeeeff">
<a href="../../help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr>
<td style="background-color: white; text-align: right; vertical-align: middle;" class="NavBarCell2"><font size="-2"> <a href="../../index.html" target="_top"><b>FRAMES</b></a>
&nbsp;
&nbsp;<a href="4_Geschwindigkeit.html" target="_top"><b>NO
FRAMES</b></a> &nbsp;
&nbsp;
<script type="text/javascript">
<!--
if(window==top) {
document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
}
//-->
</script>
<noscript> <A
HREF="../../allclasses-noframe.html"><B>All
Classes</B></A>
</noscript>
</font></td>
</tr>
</tbody>
</table>
<hr>
<h2>Lok Geschwindigkeit</h2>
<hr>
<table summary="" border="1" cellpadding="3" cellspacing="0" width="100%">
<tbody>
<tr class="TableHeadingColor" bgcolor="#ccccff">
<th colspan="2" align="left"><font size="+2">
<b>Kennung</b></font></th>
</tr>
<tr class="TableRowColor" bgcolor="white">
<td>
Lok Geschwindigkeit
(<i><font color="#0000ff" size="2">0x04</font></i>,
in CAN-ID:<i><font color="#0000ff" size="2"> </font><font color="#ff0000" size="2">0x08</font></i>)
</td>
</tr>
</tbody>
</table>
<br>
<table summary="" border="1" cellpadding="3" cellspacing="0" width="100%">
<tbody>
<tr class="TableHeadingColor" bgcolor="#ccccff">
<th colspan="1" align="left"><font size="+2">
<b>Format</b></font></th>
</tr>
</tbody>
</table>
<br>
<table style="text-align: center; width: 653px;" class="CanTable" border="1" bordercolor="#000000" cellspacing="1">
<tbody>
<tr>
<td style="width: 7%;">
Prio
</td>
<td style="width: 9%;">
Command
</td>
<td style="width: 5%;">
Resp.
</td>
<td style="width: 6%;">
Hash
</td>
<td style="width: 6%;">
DLC
</td>
<td style="width: 8%;">
D-Byte 0
</td>
<td style="width: 8%;">
D-Byte 1
</td>
<td style="width: 8%;">
D-Byte 2
</td>
<td style="width: 8%;">
D-Byte 3
</td>
<td style="width: 8%;">
D-Byte 4
</td>
<td style="width: 8%;">
D-Byte 5
</td>
<td style="width: 8%;">
D-Byte 6
</td>
<td style="width: 8%;">
D-Byte 7
</td>
</tr>
<tr>
<td>
2+2 Bit
</td>
<td>
8 Bit
</td>
<td>
1 Bit
</td>
<td>
16 Bit
</td>
<td>
4 Bit
</td>
<td>
8 Bit
</td>
<td>
8 Bit
</td>
<td>
8 Bit
</td>
<td>
8 Bit
</td>
<td>
8 Bit
</td>
<td>
8 Bit
</td>
<td>
8 Bit
</td>
<td>
8 Bit
</td>
</tr>
<tr>
<td rowspan="2">
Message
Prio
</td>
<td rowspan="2">
<font color="#0000ff">Lok
- Geschwindigkeit</font>
</td>
<td rowspan="2">
0|1
</td>
<td rowspan="2">
-</td>
<td rowspan="2">
4
</td>
<td colspan="4">
Loc - ID
</td>
<td rowspan="2" style="background-color: silver;">
&nbsp;</td>
<td rowspan="2" style="background-color: silver;">
&nbsp;</td>
<td rowspan="2" style="background-color: silver;">
&nbsp;</td>
<td rowspan="2" style="background-color: silver;">
&nbsp;</td>
</tr>
<tr>
<td>
High
</td>
<td>-
</td>
<td>-
</td>
<td>
Low
</td>
</tr>
<tr>
<td rowspan="2">
Message
Prio
</td>
<td rowspan="2">
<font color="#0000ff">Lok
- Geschwindigkeit</font>
</td>
<td rowspan="2">
0|1
</td>
<td rowspan="2">
-</td>
<td rowspan="2">
6
</td>
<td colspan="4">
Loc - ID
</td>
<td colspan="2" rowspan="1">
Geschwindigkeit</td>
<td rowspan="2" style="background-color: silver;">
&nbsp;</td>
<td rowspan="2" style="background-color: silver;">
&nbsp;</td>
</tr>
<tr>
<td>
High
</td>
<td>-
</td>
<td>-
</td>
<td>
Low
</td>
<td>High</td>
<td>Low</td>
</tr>
</tbody>
</table>
<br>
<table summary="" border="1" cellpadding="3" cellspacing="0" width="100%">
<tbody>
<tr class="TableHeadingColor" bgcolor="#ccccff">
<th colspan="1" align="left"><font size="+2">
<b>Beschreibung</b></font></th>
</tr>
</tbody>
</table>
<p>Fahrbefehl für Lokomotiven. Bei bekannter Loc-ID kann eine
Lokomotive
sofort gefahren werden. Durch Auswerten der Fahrbefehle (Antworten)
kann eine Anzeige stetig aktualisiert werden.</p>
<p>Geschwindigkeiten
im gesamten System werden als 10 - Bit Werte behandelt. Dieser Wert ist
unabhängig vom real zur Lok (über das Gleis) gesendeten Wert. Der
verwendete Wertebereich sollte von 0 bis 1000 gehen, 0 entspricht einer
stehenden Lok, 1000 der maximalen Geschwindigkeit einer Lok.</p>
<p>Werte oberhalb
1000 (bis 1023) dürfen vorkommen und sollten keinen Empfänger
stören. Die Fahrgeschwindigkeit entspricht hierbei dem Maximum.</p>
<p>Die Umrechnung von Systemfahrstufen in reale Fahrstufen ist in
den <a href="../../de/Grundlagen/CAN_Bus.html">Grundlagen</a>
des Märklin Digital Systems beschrieben<br>
</p>
<p>DLC = 6,
Setzen der Fahrstufe:</p>
<p style="margin-left: 40px;">Lok mit LOC-ID
wird mit Geschwindigkeit angesteuert. Geschwindigkeit im Bereich von 0
bis 1024 (10 Bit). Für alle Protokolle wird die Geschwindigkeit auf die
reale mögliche Fahrstufe umgerechnet. Fahrstufe 0 ist Lok - Haltebefehl
mit eingestellter Anfahr und Bremsverzögerung (Nicht Nothalt).</p>
<p>DLC = 4,
Abfrage der Fahrstufe:</p>
<p style="margin-left: 40px;">Abfrage der
aktuellen Geschwindigkeit bei fehlendem Geschwindigkeitswert (DLC = 4)</p>
<p style="margin-left: 40px;">Durch Abfrage
der aktuellen Geschwindigkeit entfällt Befehl "Lok Geschwindigkeit
Delta". <br>
</p>
<p style="margin-left: 40px;">Fahrgerät kann
Geschwindigkeit erfragen, und damit selbst den Delta bilden.</p>
<br>
<table border="1" cellpadding="3" cellspacing="0" width="100%">
<tbody>
<tr class="TableHeadingColor" bgcolor="#ccccff">
<th colspan="1" align="left"><font size="+2">
Beispiel</font></th>
</tr>
</tbody>
</table>
<br>
<table border="0" bordercolor="#000000" cellpadding="3" cellspacing="0">
<tbody>
<tr>
<td style="width: 240px;">
00084711 6 00 00 08 03 03 20</td>
<td style="width: 443px;">
Lok Geschwindigkeit SX1
Adr 3, V=0x0320=800 von 1024</td>
</tr>
<tr>
<td style="width: 240px;">00084711 6 00 00 08 03 00
A0</td>
<td style="width: 443px;">Lok
Geschwindigkeit SX1 Adr 3, V=0x00A0=10 von 1024</td>
</tr>
<tr>
<td style="width: 240px;">00084711 6 00 00 40 01 03
20</td>
<td style="width: 443px;">Lok
Geschwindigkeit mfx Adr 1, V=0x0320=800 von 1024</td>
</tr>
<tr>
<td style="width: 240px;">00084711 6 00 00 C0 03 01
20</td>
<td style="width: 443px;">Lok
Geschwindigkeit DCCAdr 3</td>
</tr>
<tr>
<td style="width: 240px;">00084711 6 00 00 C0 03 00
A0</td>
<td style="width: 443px;">Lok
Geschwindigkeit DCCAdr 3</td>
</tr>
</tbody>
</table>
<br>
<table summary="" border="1" cellpadding="3" cellspacing="0" width="100%">
<tbody>
<tr class="TableHeadingColor" bgcolor="#ccccff">
<th colspan="1" align="left"><font size="+2">
Antwort</font></th>
</tr>
</tbody>
</table>
<br>
<p>Setzen einer
Geschwindigkeit:</p>
<dl>
<dd>Ursprünglicher
Befehl mit gesetztem Response Bit.<br>
</dd>
</dl>
<p>Lesen der
Geschwindigkeit:<br>
</p>
<dl>
<dd>Antwort in
Form Geschwindigkeit setzen, wenn Lok bekannt.</dd>
<dd>Sonst fehlende
Geschwindigkeitsinformation (Ursprüngliche Anfrage).</dd>
</dl>
<br>
<table summary="" border="1" cellpadding="3" cellspacing="0" width="100%">
<tbody>
<tr class="TableHeadingColor" bgcolor="#ccccff">
<th colspan="1" align="left"><font size="+2">
Besonderheiten</font></th>
</tr>
</tbody>
</table>
<br>
<p>Erster Befehl
nimmt Lok/Funktionsdecoder in Zyklus auf.</p>
<br>
<hr>
<table style="width: 100%;" summary="" border="0" cellpadding="1" cellspacing="0">
<tbody>
<tr>
<td colspan="2" class="NavBarCell1" bgcolor="#eeeeff">
<table summary="" border="0" cellpadding="0" cellspacing="3">
<tbody>
<tr align="center" valign="top">
<td class="NavBarCell1" bgcolor="#eeeeff">
<a href="../../overview-summary.html"><font class="NavBarFont1"><b>Überblick</b></font></a></td>
<td class="NavBarCell1" bgcolor="#eeeeff">
<a href="kapitel-summary.html"><font class="NavBarFont1"><b>Kapitel</b></font></a></td>
<td class="NavBarCell1" bgcolor="#eeeeff">
<a href="../../help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a></td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr>
<td style="background-color: white; text-align: right;" class="NavBarCell2"><font size="-2"> <a href="../../index.html" target="_top"><b>FRAMES</b></a>
&nbsp;
&nbsp;<a href="4_Geschwindigkeit.html" target="_top"><b>NO
FRAMES</b></a> &nbsp;
&nbsp;
<script type="text/javascript">
<!--
if(window==top) {
document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
}
//-->
</script>
<noscript> <A
HREF="../../allclasses-noframe.html"><B>All
Classes</B></A>
</noscript>
</font></td>
</tr>
</tbody>
</table>
&nbsp;<br>
<hr>
</body></html>