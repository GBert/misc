<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><!--NewPage--><!-- Generated by javadoc (build 1.6.0_0) on Wed Sep 23 20:15:52 CEST 2009 -->


<title>Kapitelindex</title><meta content="2009-09-23" name="date">
<link title="Style" href="../../stylesheet.css" type="text/css" rel="stylesheet">
<script type="text/javascript">
function windowTitle()
{
if (location.href.indexOf('is-external=true') == -1) {
parent.document.title="Kapitel Systembefehle";
}
}
</script></head>
<body onload="windowTitle();" style="background-color: white;">
<hr style="height: 2px;">
<br>
<table style="width: 100%;" summary="" border="0" cellpadding="1" cellspacing="0">
<tbody>
<tr>
<td colspan="2" class="NavBarCell1" bgcolor="#eeeeff">
<table summary="" border="0" cellpadding="0" cellspacing="3">
<tbody>
<tr align="center" valign="top">
<td class="NavBarCell1" bgcolor="#eeeeff">
<a href="../../overview-summary.html"><font class="NavBarFont1"><b>Überblick</b></font></a>&nbsp;</td>

<td class="NavBarCell1" bgcolor="#eeeeff">
<a href="../../help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
</tr>
</tbody>
</table>
</td>

</tr>
<tr>
<td style="background-color: white; text-align: right;" class="NavBarCell2"><font size="-2"> <a href="../../index.html" target="_top"><b>FRAMES</b></a>
&nbsp;
&nbsp;<a href="kapitel-summary.html" target="_top"><b>NO
FRAMES</b></a> &nbsp;
&nbsp;
<script type="text/javascript">
<!--
if(window==top) {
document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
}
//-->
</script>
<noscript> <A
HREF="../../allclasses-noframe.html"><B>All
Classes</B></A>
</noscript>
</font></td>
</tr>
</tbody>
</table>
&nbsp;<br>
<hr>
<h2>Kapitel Updatebefehle
</h2>
<table style="width: 100%;" summary="" border="1" cellpadding="3" cellspacing="0">
<tbody>
<tr class="TableHeadingColor" bgcolor="#ccccff">
<th colspan="2" style="text-align: left; width: 757px;"><font size="+2">
Inhalt</font></th>
</tr>
<tr class="TableRowColor" bgcolor="white">
<td style="width: 226px;"><b><a href="1_Ping.html">Ping</a></b></td>
<td style="width: 757px;">Abfrage CAN-Bus Teilnehmer<br>
</td>
</tr>
<tr>
<td style="width: 226px;"><a style="font-weight: bold;" href="2_Updateangebot.html">Updateangebot</a></td>
<td style="width: 757px;">Update mit
Benutzerinteaktion<br>
</td>
</tr>
<tr>
<td style="width: 226px;"><a style="font-weight: bold;" href="3_Read_CFG_DATA.html">Read
Config Data</a></td>
<td style="width: 757px;">Lesen der
Configurationsdaten<br>
</td>
</tr>
<tr>
<td style="width: 226px;"><a style="font-weight: bold;" href="4_CAN_Boot.html">Bootloader
CAN</a></td>
<td style="width: 757px;">Systematik CAN
Bootloaderkommunikation<br>
</td>
</tr>
<tr>
<td style="width: 226px;"><a style="font-weight: bold;" href="5_LOK_Boot.html">Bootloader
Lok</a></td>
<td style="width: 757px;">Systemtik
Schienengebundener Bootloader<br>
</td>
</tr>
<tr>
<td style="width: 226px;"><a style="font-weight: bold;" href="6_Statusdata.html">Statusdaten
Konfiguration</a></td>
<td style="width: 757px;">Konfiguration der
Statusdaten abfragen<br>
</td>
</tr>
</tbody>
</table><br>
<p>Bildliche Darstellung des Ablaufs eines Updates:</p><p><img style="width: 593px; height: 788px;" alt="Ablauf Update" src="../../resources/UpdateFlow.png"></p><p>Ein Update eines Gleis
Format Prozessor
(CAN gebundener Teilnehmer) funktioniert auf folgendem Weg:</p>
<p>Zuerst wird festgestellt,
welche Geräte
auf dem Bus vertreten sind. Mittels Ping melden sich alle
CAN-Busteilnehmer. Antwort des Ping beinhaltet die UID, die
Softwareversion Major und Minor sowie die Hardwarekennung.</p>
<p>Benutzeroberfläche kann
nun
feststellen welche Teilnehmer vorhanden sind. Mittels Get Konfig Data
kann Graphical User Interface&nbsp;jeden einzelnen Teilnehmer
detailliert abfragen. Somit sind die weiteren Daten der Teilnehmer
bekannt. Hierzu gehören für den Updateprozess die Hardwarerevision
und der Gerätetyp.</p>
<p>Sobald die Graphical User
Interface&nbsp;feststellt, dass für einen Teilnehmer ein Update vorhanden
ist, kann mittels Updateangebot nachgefragt werden, ob ein Update
erwünscht ist. Geräte ohne Bedienoberfläche beantworten diese
Frage immer mit "ja", alle anderen Fragen zuerst den
Bediener.</p>
<p>Bei erwünschtem Update kann
das Gerät
mittels Resetkommando in den Bootloader versetzt werden. Der Update
findet nun unter Kontrolle des Bootloaders statt. Nach erfolgtem
Update wird das Gerät durch Anweisung an den Bootloader neu
gestartet. Ein Update kann auch erzwungen werden, da das Versetzen in
den Bootloader durch ein Resetkommando stattfindet und eine Nachfrage
nur obligatorisch ist.</p>
<p>Unterschied zwischen
CAN-Bus Teilnehmer
und schienengebundene Decoder:</p>
<p>Update muss durch anderes
Kommando
angestoßen werden, da Ping kein Ergebnis liefert. <br>Decoder muss über das Programmiergleis erreichbar sein.</p>
<hr>
<br>
<table style="width: 100%;" summary="" border="0" cellpadding="1" cellspacing="0">
<tbody>
<tr>
<td colspan="2" class="NavBarCell1" bgcolor="#eeeeff">
<table summary="" border="0" cellpadding="0" cellspacing="3">
<tbody>
<tr align="center" valign="top">
<td class="NavBarCell1" bgcolor="#eeeeff">
<a href="../../overview-summary.html"><font class="NavBarFont1"><b>Überblick</b></font></a>&nbsp;</td>

<td class="NavBarCell1" bgcolor="#eeeeff">
<a href="../../help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
</tr>
</tbody>
</table>
</td>

</tr>
<tr>
<td style="background-color: white; text-align: right;" class="NavBarCell2"><font size="-2"> <a href="../../index.html" target="_top"><b>FRAMES</b></a> &nbsp;
&nbsp;<a href="kapitel-summary.html" target="_top"><b>NO
FRAMES</b></a> &nbsp;
&nbsp;
<script type="text/javascript">
<!--
if(window==top) {
document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
}
//-->
</script>
<noscript> <A
HREF="../../../../../../allclasses-noframe.html"><B>All
Classes</B></A>
</noscript>
</font></td>
</tr>
</tbody>
</table>
<br>
<hr>
</body></html>