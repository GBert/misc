<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type"><!--NewPage--><!-- Extract of javadoc -->


<title>Anfordern Config Data</title><meta content="2009-09-23" name="date">
<link title="Style" href="../../stylesheet.css" type="text/css" rel="stylesheet">
<script type="text/javascript">
function windowTitle()
{
if (location.href.indexOf('is-external=true') == -1) {
parent.document.title="Anfordern Config Data";
}
}
</script></head>
<body onload="windowTitle();" style="background-color: white;">
<hr>
<br>
<table style="width: 100%;" summary="" border="0" cellpadding="1" cellspacing="0">
<tbody>
<tr>
<td colspan="2" class="NavBarCell1" bgcolor="#eeeeff">
<table summary="" border="0" cellpadding="0" cellspacing="3">
<tbody>
<tr align="center" valign="top">
<td class="NavBarCell1" bgcolor="#eeeeff">
<a href="../../overview-summary.html"><font class="NavBarFont1"><b>Überblick</b></font></a>&nbsp;</td>
<td class="NavBarCell1" bgcolor="#eeeeff">
<a href="kapitel-summary.html"><font class="NavBarFont1"><b>Kapitel</b></font></a>&nbsp;</td>
<td class="NavBarCell1" bgcolor="#eeeeff">
<a href="../../help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr>
<td style="background-color: white; text-align: right; vertical-align: middle;" class="NavBarCell2"><font size="-2"> <a href="../../index.html" target="_top"><b>FRAMES</b></a>
&nbsp;
&nbsp;<a href="1_Anf_CFG_DATA.html" target="_top"><b>NO
FRAMES</b></a> &nbsp;
&nbsp;
<script type="text/javascript">
<!--
if(window==top) {
document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
}
//-->
</script>
<noscript> <A
HREF="../../allclasses-noframe.html"><B>All
Classes</B></A>
</noscript>
</font></td>
</tr>
</tbody>
</table>
<hr>
<h2>Anfordern Config Data</h2>
<hr>
<table summary="" border="1" cellpadding="3" cellspacing="0" width="100%">
<tbody>
<tr class="TableHeadingColor" bgcolor="#ccccff">
<th colspan="2" align="left"><font size="+2">
<b>Kennung</b></font></th>
</tr>
<tr class="TableRowColor" bgcolor="white">
<td>
Anfordern Config Data (<i><font color="#0000ff">0x00</font></i>,
in CAN-ID: <i><font color="#ff0000">0x00</font></i>)
</td>
</tr>
</tbody>
</table>
<br>
<table summary="" border="1" cellpadding="3" cellspacing="0" width="100%">
<tbody>
<tr class="TableHeadingColor" bgcolor="#ccccff">
<th colspan="1" align="left"><font size="+2">
<b>Format</b></font></th>
</tr>
</tbody>
</table>
<br>
<table style="text-align: center; width: 653px;" class="CanTable" border="1" bordercolor="#000000" cellspacing="1">
<tbody>
<tr>
<td style="width: 7%;">Prio
</td>
<td style="width: 9%;">
Command
</td>
<td style="width: 5%;">
Resp.
</td>
<td style="width: 6%;">
Hash
</td>
<td style="width: 6%;">
DLC
</td>
<td style="width: 8%;">
D-Byte 0
</td>
<td style="width: 8%;">
D-Byte 1
</td>
<td style="width: 8%;">
D-Byte 2
</td>
<td style="width: 8%;">
D-Byte 3
</td>
<td style="width: 8%;">
D-Byte 4
</td>
<td style="width: 8%;">
D-Byte 5
</td>
<td style="width: 8%;">
D-Byte 6
</td>
<td style="width: 8%;">
D-Byte 7
</td>
</tr>
<tr>
<td>
2+2 Bit
</td>
<td>
8 Bit
</td>
<td>
1 Bit
</td>
<td>
16 Bit
</td>
<td>
4 Bit
</td>
<td>
8 Bit
</td>
<td>
8 Bit
</td>
<td>
8 Bit
</td>
<td>
8 Bit
</td>
<td>
8 Bit
</td>
<td>
8 Bit
</td>
<td>
8 Bit
</td>
<td>
8 Bit
</td>
</tr>
<tr>
<td>
Message<br>
Prio
</td>
<td>
<font color="#0000ff">Config-<br>
Data</font>
</td>
<td>
Resp.
</td>
<td>
Hash
</td>
<td>
DLC
</td>
<td>
Byte 0
</td>
<td>
Byte 1
</td>
<td>
Byte 2
</td>
<td>
Byte 3
</td>
<td>
Byte 4
</td>
<td>
Byte 5
</td>
<td>
Byte 6
</td>
<td>
Byte 7
</td>
</tr>
</tbody>
</table>
<dl>
</dl>
<br>
<table summary="" border="1" cellpadding="3" cellspacing="0" width="100%">
<tbody>
<tr class="TableHeadingColor" bgcolor="#ccccff">
<th colspan="1" align="left"><font size="+2">
<b>Beschreibung</b></font></th>
</tr>
</tbody>
</table>
<p>Anfordern einer Configdatei. Darin enthalten ist ein 8 Byte
Dateiname.</p>
<p>Bestätigen der Anforderung mit gesetztem Resp. Bit. </p>
<p>Die folgenden Dateinamen werden von der CS2 unterstützt:</p>
<dd>
<table ="" border="1" bordercolor="#000000" cellpadding="4" cellspacing="0">
<col> <col> <col> <col> <col> <tbody>
<tr valign="top">
<td> Dateiname </td>
<td> Absender
</td>
<td>Bedeutung</td>
<td>Folge-Info (Folgedatagramme)</td>
<td>Stream-Datenformat</td>
</tr>
<tr valign="top">
<td>"lokinfo"</td>
<td>MS2</td>
<td>Daten einer Lok</td>
<td>2 Datagramme mit dem Textstring des Loknamen, in UTF8
Kodierung<br>
(max. 16 Zeichen).</td>
<td>Text (Ausschnitt aus "lokomotive.cs2")</td>
</tr>
<tr valign="top">
<td>"loknamen"</td>
<td>MS2</td>
<td>Namen von n Loks und Gesamtzahl, spezifiziert im
Folgedatagramm.</td>
<td>Nr. der ersten Lok und Anzahl durch Leer­zeichen
getrennt. Als ASCII kodierter Zeichenstring.</td>
<td>Text: Lok-Nr, Lok-Name und Gesamt­anzahl der Loks im
.cs2-Format.</td>
</tr>
<tr valign="top">
<td>"maginfo"</td>
<td>MS2</td>
<td>Daten von n Magnetartikeln</td>
<td>Adresse erster Magnetartikel und Anzahl durch
Leerzeichen getrennt.</td>
<td>Text( Ausschnitt aus "magnetartikel.cs2")</td>
</tr>
<tr valign="top">
<td>"lokdb"</td>
<td>MS2</td>
<td>Lokdatenbank</td>
<td>-</td>
<td><span style="color: rgb(0, 153, 0);">Binär</span>
<br>
(MS2-Lokdb-Format)</td>
</tr>
<tr valign="top">
<td>"ldbver"</td>
<td>MS2</td>
<td>Versionsinfo der Lokdatenbank</td>
<td>-</td>
<td>Text: Versionsnr., Monat, Jahr, Anzahl der Einträge
im .cs2-Format</td>
</tr>
<tr valign="top">
<td>"<a href="../CS2_Config/Lokomotive.html">loks</a>"</td>
<td>CS2 (Slave)</td>
<td>Komplette Lokliste "lokomotive.cs"</td>
<td>-</td>
<td>Konfigurationsdatei "lokomotive.cs2" <br>
<span style="color: rgb(0, 153, 0);">Zlib-komprimiert</span></td>
</tr>
<tr valign="top">
<td>"<a href="../CS2_Config/magnetartikel.html">mags</a>"</td>
<td>CS2 (Slave)</td>
<td>Komplette Magnetartikel­konfiguration "
magentartikel.cs2"</td>
<td>-</td>
<td>Konfigurationsdatei "magnetartikel.cs2"
<span style="color: rgb(0, 153, 0);"><br>
Zlib-komprimiert</span></td>
</tr>
<tr valign="top">
<td>"<a href="../CS2_Config/fahrstrasse.html">fs</a>"</td>
<td>CS2 (Slave)</td>
<td>Komplette Fahrstraßen­konfiguration "fahrstrasse.cs2"
</td>
<td>-</td>
<td>Konfigurationsdatei "fahrstrassen.cs2"<br>
<span style="color: rgb(0, 153, 0);">Zlib-komprimiert</span>
</td>
</tr>
<tr valign="top">
<td>"<a href="../CS2_Config/layout.html">gbs</a>"</td>
<td> CS2 (Slave)</td>
<td> Komplette Gleisbild­konfiguration "gleisbild.cs2"</td>
<td>- </td>
<td>Konfigurationsdatei "gleisbild.cs2" <br>
<span style="color: rgb(0, 153, 0);">Zlib-komprimiert</span>
</td>
</tr>
<tr>
<td>"<a href="../CS2_Config/kontakt.html">ks</a>"</td>
<td>&nbsp;</td>
<td>Komplette Rückmelderkonfiguration "kontakte.cs2"</td>
<td>-</td>
<td>Konfigurationsdatei "kontakte.cs2" <br>
<span style="color: rgb(0, 153, 0);">Zlib-komprimiert</span></td>
</tr>
<tr>
<td>"kinfo"</td>
<td>&nbsp;</td>
<td>Daten eines Kontaktes / Rückmelders</td>
<td>Spezifikation des Kontaktes durch seine "Kontakt -
Kennung"</td>
<td>Text (Ausschnitt aus "kontakte.cs2")</td>
</tr>
</tbody>
</table>
</dd>
<br>
<p>Wenn in der Spalte Folge-Info etwas angegeben ist, erwartet
die
Master-CS2 nach der Quittung eine weitere Config-Data-Anfrage, in
der die erste Anfrage weiter qualifiziert
wird.</p>
<table summary="" border="1" cellpadding="3" cellspacing="0" width="100%">
<tbody>
<tr class="TableHeadingColor" bgcolor="#ccccff">
<th colspan="1" align="left"><font size="+2">
Beispiel</font></th>
</tr>
</tbody>
</table>
<p>--</p>
<table summary="" border="1" cellpadding="3" cellspacing="0" width="100%">
<tbody>
<tr class="TableHeadingColor" bgcolor="#ccccff">
<th colspan="1" align="left"><font size="+2">
Antwort</font></th>
</tr>
</tbody>
</table>
<p>Gleiches Telegramm mit gesetzem Response. Unmittelbar darauf
folgt ein Datenstrom mit Kennung "Config Data Stream". Dieser
beinhaltet die angeforderte Information.</p>
<br>
<table summary="" border="1" cellpadding="3" cellspacing="0" width="100%">
<tbody>
<tr class="TableHeadingColor" bgcolor="#ccccff">
<th colspan="1" align="left"><font size="+2">
Besonderheiten</font></th>
</tr>
</tbody>
</table>
<p>Kann auch vom PC angefordert werden (für Datensicherung).</p>
<hr><br>
<table style="width: 100%;" summary="" border="0" cellpadding="1" cellspacing="0">
<tbody>
<tr>
<td colspan="2" class="NavBarCell1" bgcolor="#eeeeff">
<table summary="" border="0" cellpadding="0" cellspacing="3">
<tbody>
<tr align="center" valign="top">
<td class="NavBarCell1" bgcolor="#eeeeff">
<a href="../../overview-summary.html"><font class="NavBarFont1"><b>Überblick</b></font></a>&nbsp;</td>
<td class="NavBarCell1" bgcolor="#eeeeff">
<a href="package-summary.html"><font class="NavBarFont1"><b>Package</b></font></a>&nbsp;</td>
<td class="NavBarCell1" bgcolor="#eeeeff">
<a href="../../help-doc.html"><font class="NavBarFont1"><b>Help</b></font></a>&nbsp;</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr>
<td style="background-color: white; text-align: right;" class="NavBarCell2"><font size="-2"> <a href="../../index.html" target="_top"><b>FRAMES</b></a>
&nbsp;
&nbsp;<a href="1_Anf_CFG_DATA.html" target="_top"><b>NO
FRAMES</b></a> &nbsp;
&nbsp;
<script type="text/javascript">
<!--
if(window==top) {
document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
}
//-->
</script>
<noscript> <A
HREF="../../allclasses-noframe.html"><B>All
Classes</B></A>
</noscript>
</font></td>
</tr>
</tbody>
</table>
<br>
<hr>
</body></html>