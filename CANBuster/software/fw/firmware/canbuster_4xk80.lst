gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE  1


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00001 ;------------------------------------------------------------------------------
                      00002 ;
                      00003 ; Can-Can Device
                      00004 ;
                      00005 ; Copyright (c) 2014 Darron M Broad
                      00006 ;
                      00007 ;------------------------------------------------------------------------------
                      00008 ;
                      00009 ; This file is part of the Can-Can CAN bus interface project.
                      00010 ;
                      00011 ; Can-Can is licensed under the CC BY-NC-SA 4.0.
                      00012 ;
                      00013 ; See file /LICENSE for details.
                      00014 ; 
                      00015 ;------------------------------------------------------------------------------
                      00016 
                      00017                 RADIX   DEC
                      00018 
                      00019 ;------------------------------------------------------------------------------
                      00020 ; Device
                      00021 ;------------------------------------------------------------------------------
                      00022 
                      00023                 PROCESSOR   18f45k80
                      00024 
                      00025 ;------------------------------------------------------------------------------
                      00026 ; Device constants
                      00027 ;------------------------------------------------------------------------------
                      00028 
                      00029                 ERRORLEVEL  -302,-1301
                      00030                 LIST        P=PIC18F45K80
                      00031 #INCLUDE        "p18f45k80.inc"
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ; Build date : Feb 13 2015
                      00005 ;  MPASM PIC18F45K80 processor include
                      00006 ; 
                      00007 ;  (c) Copyright 1999-2015 Microchip Technology, All rights reserved
                      00008 ;==========================================================================
                      00009 
                      05438         LIST
                      00032                 LIST
                      00033 
                      00034 ;------------------------------------------------------------------------------
                      00035 ; Device settings
                      00036 ;------------------------------------------------------------------------------
                      00037 
                      00038 ; Clock Rate
                      00039 #DEFINE         CLOCK       64000000
                      00040 
                      00041 ; UART PORTC, PORTB or PORTD
                      00042 #DEFINE         UART        PORTD
                      00043 
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE  2


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00044 ; UART Baud Rate
                      00045 #DEFINE         BAUDRATE    500000
                      00046 
                      00047 ; I2C Rate
                      00048 #DEFINE         I2CRATE     400000
                      00049 
                      00050 ; CAN PORTB or PORTC
                      00051 #DEFINE         CAN         PORTB
                      00052 
                      00053 ; CAN Bus Rate
                      00054 #DEFINE         CANRATE     250
                      00055 
                      00056 ;------------------------------------------------------------------------------
                      00057 ; Device hardware
                      00058 ;------------------------------------------------------------------------------
                      00059 
                      00060 ; LED1 RB6 CAN  OVERFLOW
                      00061 ; LED2 RB7 UART OVERFLOW
                      00062 ; RTS  RB4 CLEAR TO SEND
                      00063 ;
                      00064 #DEFINE         GPIO        LATB
                      00065 #DEFINE         DDR         DDRB
                      00066 #DEFINE         PIO         1
                      00067 
                      00068 ;------------------------------------------------------------------------------
                      00069 ; Device firmware
                      00070 ;------------------------------------------------------------------------------
                      00071 
                      00072 
                      00073 #INCLUDE        "18f4xk80-mcu-config.inc"
                      00001 ; VREG Sleep Enable bit:
                      00002                 CONFIG    RETEN=ON
                      00003 ; LF-INTOSC Low-power Enable bit:
                      00004 ;               CONFIG    INTOSCSEL=LOW
                      00005 ; SOSC Power Selection and mode Configuration bits:
                      00006                 CONFIG    SOSCSEL=DIG
                      00007 ; Extended Instruction Set:
                      00008                 CONFIG    XINST=OFF
                      00009 ; Oscillator:
                      00010                 CONFIG    FOSC=HS2
                      00011 ; PLL x4 Enable bit:
                      00012                 CONFIG    PLLCFG=ON
                      00013 ; Fail-Safe Clock Monitor:
                      00014                 CONFIG    FCMEN=OFF
                      00015 ; Internal External Oscillator Switch Over Mode:
                      00016                 CONFIG    IESO=OFF
                      00017 ; Power-up Timer:
                      00018                 CONFIG    PWRTEN=OFF
                      00019 ; Brown-out Detect:
                      00020                 CONFIG    BOREN=OFF
                      00021 ; Brown-out Reset Voltage bits:
                      00022                 CONFIG    BORV=1
                      00023 ; BORMV Power level:
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE  3


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00024 ;               CONFIG    BORPWR=LOW
                      00025 ; Watchdog Timer:
                      00026                 CONFIG    WDTEN=OFF
                      00027 ; Watchdog Postscaler:
                      00028                 CONFIG    WDTPS=1024
                      00029 ; ECAN Mux bit:
                      00030                 CONFIG    CANMX=PORTB
                      00031 ; MSSP address masking:
                      00032                 CONFIG    MSSPMSK=MSK5
                      00033 ; Master Clear Enable:
                      00034                 CONFIG    MCLRE=ON
                      00035 ; Stack Overflow Reset:
                      00036                 CONFIG    STVREN=ON
                      00037 ; Boot Block Size:
                      00038                 CONFIG    BBSIZ=BB1K
                      00039 ; Code Protect 00800-03FFF:
                      00040                 CONFIG    CP0=OFF
                      00041 ; Code Protect 04000-07FFF:
                      00042                 CONFIG    CP1=OFF
                      00043 ; Code Protect 08000-0BFFF:
                      00044                 CONFIG    CP2=OFF
                      00045 ; Code Protect 0C000-0FFFF:
                      00046                 CONFIG    CP3=OFF
                      00047 ; Code Protect Boot:
                      00048                 CONFIG    CPB=OFF
                      00049 ; Data EE Read Protect:
                      00050                 CONFIG    CPD=OFF
                      00051 ; Table Write Protect 00800-03FFF:
                      00052                 CONFIG    WRT0=OFF
                      00053 ; Table Write Protect 04000-07FFF:
                      00054                 CONFIG    WRT1=OFF
                      00055 ; Table Write Protect 08000-0BFFF:
                      00056                 CONFIG    WRT2=OFF
                      00057 ; Table Write Protect 0C000-0FFFF:
                      00058                 CONFIG    WRT3=OFF
                      00059 ; Config. Write Protect:
                      00060                 CONFIG    WRTC=OFF
                      00061 ; Table Write Protect Boot:
                      00062                 CONFIG    WRTB=OFF
                      00063 ; Data EE Write Protect:
                      00064                 CONFIG    WRTD=OFF
                      00065 ; Table Read Protect 00800-03FFF:
                      00066                 CONFIG    EBTR0=OFF
                      00067 ; Table Read Protect 04000-07FFF:
                      00068                 CONFIG    EBTR1=OFF
                      00069 ; Table Read Protect 08000-0BFFF:
                      00070                 CONFIG    EBTR2=OFF
                      00071 ; Table Read Protect 0C000-0FFFF:
                      00072                 CONFIG    EBTR3=OFF
                      00073 ; Table Read Protect Boot:
                      00074                 CONFIG    EBTRB=OFF
                      00075 
                      00074 #INCLUDE        "can-can.inc"
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE  4


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00001 ;------------------------------------------------------------------------------
                      00002 ;
                      00003 ; Can-Can Firmware
                      00004 ;
                      00005 ; Copyright (c) 2014 Darron M Broad
                      00006 ;
                      00007 ;------------------------------------------------------------------------------
                      00008 ;
                      00009 ; This file is part of the Can-Can CAN bus interface project.
                      00010 ;
                      00011 ; Can-Can is licensed under the CC BY-NC-SA 4.0.
                      00012 ;
                      00013 ; See file /LICENSE for details.
                      00014 ; 
                      00015 ;------------------------------------------------------------------------------
                      00016 
                      00017                 LIST
                      00018                 RADIX   DEC
                      00019 
                      00020 ;------------------------------------------------------------------------------
                      00021 ; Macros
                      00022 ;------------------------------------------------------------------------------
                      00023 
                      00024 ; Decrement REG, goto LOC if result not ZERO
                      00025 DJNZ            MACRO   REG,LOC
                      00026                 DECFSZ  REG,F
                      00027                 BRA     LOC
                      00028                 ENDM
                      00029 
                      00030 CANOVFL         MACRO
                      00031                 BSF     GPIO,6              ; LED1 CAN Packet dropped
                      00032                 ENDM
                      00033 
                      00034 CANRECV         MACRO
                      00035                 BCF     GPIO,6              ; LED1 CAN Packet received
                      00036                 ENDM
                      00037 
                      00038 UARTOVFL        MACRO
                      00039                 BSF     GPIO,7              ; LED2 UART Packet dropped
                      00040                 ENDM
                      00041 
                      00042 UARTRECV        MACRO
                      00043                 BCF     GPIO,7              ; LED2 UART Packet received
                      00044                 ENDM
                      00045 
                      00046 RTSCLR          MACRO
                      00047                 BCF     GPIO,4              ; RTS/CTS CLEAR TO SEND
                      00048                 ENDM
                      00049 
                      00050 RTSSET          MACRO
                      00051                 BSF     GPIO,4              ; RTS/CTS NOT CLEAR TO SEND
                      00052                 ENDM
                      00053 
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE  5


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00054 ;------------------------------------------------------------------------------
                      00055 ; Variables
                      00056 ;------------------------------------------------------------------------------
                      00057 
                      00058                 CBLOCK  0x0000              ; ACCESS RAM 0x00..0x5F
  00000000            00059                 B_SAVE  : 1                 ; ISR BANK SELECT REGISTER
  00000001            00060                 S_SAVE  : 1                 ; ISR STATUS REGISTER
  00000002            00061                 W_SAVE  : 1                 ; ISR WORKING REGISTER
                      00062                 ENDC
                      00063 
                      00064 ;------------------------------------------------------------------------------
                      00065 ; Reset/ISR
                      00066 ;------------------------------------------------------------------------------
                      00067 
000000                00068                 ORG     0x0000
000000 EF0E F000      00069                 GOTO    INIT
000008                00070                 ORG     0x0008
000008 EF46 F000      00071                 GOTO    ISRHIGH             ; When IPEN = 0 or 1
000018                00072                 ORG     0x0018
000018 EF63 F000      00073                 GOTO    ISRLOW              ; When IPEN = 1
                      00074 
                      00075 ;------------------------------------------------------------------------------
                      00076 ; Init.
                      00077 ;------------------------------------------------------------------------------
00001C                00078 INIT
00001C 010F           00079                 MOVLB   0x0F                ; Default to Bank 15
                      00080 
00001E 6AF2           00081                 CLRF    INTCON              ; Reset ISR
000020 6A9D           00082                 CLRF    PIE1
000022 6A9E           00083                 CLRF    PIR1
                      00084 
                      00085                 ; switch off A/Ds, D/As and comaprators
000024 6AC2           00086                 CLRF    ADCON0          ;D
000026 6AC1           00087                 CLRF    ADCON1          ;D
000028 6AC0           00088                 CLRF    ADCON2          ;D
00002A 6B5D           00089                 CLRF    ANCON0          ;N
00002C 6B5C           00090                 CLRF    ANCON1          ;N
00002E 6B5F           00091                 CLRF    CM1CON          ;C
000030 6B5E           00092                 CLRF    CM2CON          ;C
                      00093 
000032 6A8B           00094                 CLRF    LATC
000034 9494           00095                 BCF     TRISC, 2
000036 6A8A           00096                 CLRF    GPIO                ; Init. LED
                      00097                 RTSCLR                      ; Init. RTS
000038 988A               M                 BCF     LATB,4              ; RTS/CTS CLEAR TO SEND
00003A 6A93           00098                 CLRF    DDR                 ; All O/P
                      00099 
00003C D80D           00100                 RCALL   INITUART            ; Init. UART
00003E D853           00101                 RCALL   INITRING            ; Init. Rx/Tx Ring
000040 D85E           00102                 RCALL   INITCAN             ; Init. CAN Bus
000042 D988           00103                 RCALL   TIMERINIT           ; Init. TIMER
000044 D9A5           00104                 RCALL   I2CINIT             ; Init. I2C
                      00105                 ;RCALL   PIOINIT             ; Init. PIO
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE  6


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00106 
000046 8ED0           00107                 BSF     RCON,IPEN           ; Enable priority interrupts
000048 8CF2           00108                 BSF     INTCON,PEIE         ; Init. ISR
00004A 8EF2           00109                 BSF     INTCON,GIE
                      00110                
                      00111 ;------------------------------------------------------------------------------
                      00112 ; Main
                      00113 ;------------------------------------------------------------------------------
00004C                00114 MAIN
00004C D81A           00115                 RCALL   RESETUART           ; UART RESET
00004E D888           00116                 RCALL   RXCAN               ; RECEIVE CAN
000050 D8F6           00117                 RCALL   TXCAN               ; SEND CAN
000052 B4F2           00118                 BTFSC   INTCON, TMR0IF
000054 D982           00119                 RCALL   SCHEDULE
000056 D7FA           00120                 BRA     MAIN
                      00121 
                      00122 ;------------------------------------------------------------------------------
                      00123 ; Includes
                      00124 ;------------------------------------------------------------------------------
                      00125 
                      00126 #INCLUDE        "uart.inc"                  ; UART
                      00001 ;------------------------------------------------------------------------------
                      00002 ;
                      00003 ; Can-Can UART
                      00004 ;
                      00005 ; Copyright (c) 2014 Darron M Broad
                      00006 ;
                      00007 ;------------------------------------------------------------------------------
                      00008 ;
                      00009 ; This file is part of the Can-Can CAN bus interface project.
                      00010 ;
                      00011 ; Can-Can is licensed under the CC BY-NC-SA 4.0.
                      00012 ;
                      00013 ; See file /LICENSE for details.
                      00014 ; 
                      00015 ;------------------------------------------------------------------------------
                      00016 
                      00017                 LIST
                      00018                 RADIX   DEC
                      00019 
                      00020 ;------------------------------------------------------------------------------
                      00021 ; UART settings
                      00022 ;------------------------------------------------------------------------------
                      00023 
                      00024 #IF UART != PORTD
                      00025     #IF UART != PORTC
                      00026         #IF UART != PORTB
                      00027             ERROR   "UART port not configured"
                      00028         #ENDIF
                      00029     #ENDIF
                      00030 #ENDIF
                      00031 
                      00032 #IFNDEF BAUDRATE
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE  7


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00033     ERROR       "UART baud rate not defined"
                      00034 #ENDIF
                      00035 
                      00036 #IF UART == PORTC
                      00037     #IFNDEF TXSTA1
                      00038         #DEFINE UPIR        PIR1
                      00039         #DEFINE URCIF       RCIF
                      00040         #DEFINE UTXIF       TXIF
                      00041 
                      00042         #DEFINE UPIE        PIE1
                      00043         #DEFINE URCIE       RCIE
                      00044         #DEFINE UTXIE       TXIE
                      00045 
                      00046         #DEFINE UIPR        IPR1
                      00047         #DEFINE URCIP       RCIP
                      00048         #DEFINE UTXIP       TXIP
                      00049 
                      00050         #DEFINE UTXSTA      TXSTA
                      00051         #DEFINE URCSTA      RCSTA
                      00052         #DEFINE UTXREG      TXREG
                      00053         #DEFINE URCREG      RCREG
                      00054 
                      00055         #DEFINE UBAUDCON    BAUDCON
                      00056         #DEFINE USPBRGH     SPBRGH
                      00057         #DEFINE USPBRG      SPBRG
                      00058     #ELSE
                      00059         #DEFINE UPIR        PIR1
                      00060         #DEFINE URCIF       RC1IF
                      00061         #DEFINE UTXIF       TX1IF
                      00062 
                      00063         #DEFINE UPIE        PIE1
                      00064         #DEFINE URCIE       RC1IE
                      00065         #DEFINE UTXIE       TX1IE
                      00066 
                      00067         #DEFINE UIPR        IPR1
                      00068         #DEFINE URCIP       RC1IP
                      00069         #DEFINE UTXIP       TX1IP
                      00070 
                      00071         #DEFINE UTXSTA      TXSTA1
                      00072         #DEFINE URCSTA      RCSTA1
                      00073         #DEFINE UTXREG      TXREG1
                      00074         #DEFINE URCREG      RCREG1
                      00075 
                      00076         #DEFINE UBAUDCON    BAUDCON1
                      00077         #DEFINE USPBRGH     SPBRGH1
                      00078         #DEFINE USPBRG      SPBRG1
                      00079     #ENDIF
                      00080 #ENDIF
                      00081 
                      00082 #IF UART == PORTB || UART == PORTD
                      00083         #DEFINE UPIR        PIR3
                      00084         #DEFINE URCIF       RC2IF
                      00085         #DEFINE UTXIF       TX2IF
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE  8


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00086 
                      00087         #DEFINE UPIE        PIE3
                      00088         #DEFINE URCIE       RC2IE
                      00089         #DEFINE UTXIE       TX2IE
                      00090 
                      00091         #DEFINE UIPR        IPR3
                      00092         #DEFINE URCIP       RC2IP
                      00093         #DEFINE UTXIP       TX2IP
                      00094 
                      00095         #DEFINE UTXSTA      TXSTA2
                      00096         #DEFINE URCSTA      RCSTA2
                      00097         #DEFINE UTXREG      TXREG2
                      00098         #DEFINE URCREG      RCREG2
                      00099 
                      00100         #DEFINE UBAUDCON    BAUDCON2
                      00101         #DEFINE USPBRGH     SPBRGH2
                      00102         #DEFINE USPBRG      SPBRG2
                      00103 #ENDIF
                      00104 
                      00105 ;------------------------------------------------------------------------------
                      00106 ; UART Baud Rate Generator (FOSC / BAUDRATE / 4 - 1)
                      00107 ;------------------------------------------------------------------------------
                      00108 
                      00109 #DEFINE UBAUD   ((((CLOCK / BAUDRATE) / 2) - 1) / 2)
                      00110 #IF UBAUD > 65535
                      00111     ERROR       "UART BRG overflow"
                      00112 #ENDIF
                      00113 #IF UBAUD == 0
                      00114     ERROR       "UART BRG zero"
                      00115 #ENDIF
                      00116 
                      00117 ;------------------------------------------------------------------------------
                      00118 ; Init. UART
                      00119 ;------------------------------------------------------------------------------
000058                00120 INITUART
                      00121 
                      00122 #IF UART == PORTB
                      00123                 BCF     TRISB,6             ; UART2 TX
                      00124                 BSF     TRISB,7             ; UART2 RX
                      00125 #ENDIF
                      00126 #IF UART == PORTC
                      00127                 BCF     TRISC,6             ; UART1 TX
                      00128                 BSF     TRISC,7             ; UART1 RX
                      00129 #ENDIF
                      00130 #IF UART == PORTD
000058 9C95           00131                 BCF     TRISD,6             ; UART1 TX
00005A 8E95           00132                 BSF     TRISD,7             ; UART1 RX
                      00133 #ENDIF
                      00134 
00005C 8AA5           00135                 BSF     UIPR,URCIP          ; Rx high priority
00005E 98A5           00136                 BCF     UIPR,UTXIP          ; Tx low priority
                      00137 
000060 0E08           00138                 MOVLW   (1 << BRG16)
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE  9


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

000062 6EB9           00139                 MOVWF   UBAUDCON
                      00140 
000064 0E00           00141                 MOVLW   HIGH (UBAUD)
000066 6E7C           00142                 MOVWF   USPBRGH
000068 0E1F           00143                 MOVLW   LOW  (UBAUD)
00006A 6E7B           00144                 MOVWF   USPBRG
                      00145 
                      00146                 ; Enable 9-bit Mode + Enable Transmit + High Speed Mode + BIT9 = 1
00006C 0E65           00147                 MOVLW   (1 << TX9) + (1 << TXEN) + (1 << BRGH) + (1 << TX9D)
00006E 6EBA           00148                 MOVWF   UTXSTA
000070                00149 INITUARTAGAIN
                      00150                 ; Disable Rx ring ISR
000070 9AA3           00151                 BCF     UPIE,URCIE
                      00152 
                      00153                 ; Enable Serial Port + Disable Receiver
000072 0E80           00154                 MOVLW   (1 << SPEN)
000074 6EA6           00155                 MOVWF   URCSTA
                      00156 
                      00157                 ; Enable Receiver
000076 88A6           00158                 BSF     URCSTA,CREN
                      00159 
                      00160                 ; Flush Receiver
000078 507A           00161                 MOVF    URCREG,W
00007A 507A           00162                 MOVF    URCREG,W
00007C 507A           00163                 MOVF    URCREG,W
                      00164                 
                      00165                 ; Enable Rx ring ISR
00007E 8AA3           00166                 BSF     UPIE,URCIE
                      00167 
000080 0012           00168                 RETURN
                      00169 
                      00170 ;------------------------------------------------------------------------------
                      00171 ; Reset UART Conditionally
                      00172 ;------------------------------------------------------------------------------
000082                00173 RESETUART
000082 B2A6           00174                 BTFSC   URCSTA,OERR         ; Detect UART Overrun Error
000084 D7F5           00175                 BRA     INITUARTAGAIN
                      00176 
000086 B4A6           00177                 BTFSC   URCSTA,FERR         ; Detect UART Framing Error
000088 D7F3           00178                 BRA     INITUARTAGAIN
                      00179 
00008A 0012           00180                 RETURN
                      00181 
                      00182 ;------------------------------------------------------------------------------
                      00183 ;
                      00184 ; vim: shiftwidth=4 tabstop=4 softtabstop=4 expandtab
                      00185 ;
                      00127 #INCLUDE        "ring.inc"                  ; Rx/Tx Ring
                      00001 ;------------------------------------------------------------------------------
                      00002 ;
                      00003 ; Can-Can Rx/Tx ring
                      00004 ;
                      00005 ; Copyright (c) 2014 Darron M Broad
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 10


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00006 ;
                      00007 ;------------------------------------------------------------------------------
                      00008 ;
                      00009 ; This file is part of the Can-Can CAN bus interface project.
                      00010 ;
                      00011 ; Can-Can is licensed under the CC BY-NC-SA 4.0.
                      00012 ;
                      00013 ; See file /LICENSE for details.
                      00014 ; 
                      00015 ;------------------------------------------------------------------------------
                      00016 
                      00017                 LIST
                      00018                 RADIX   DEC
                      00019 
                      00020 ;------------------------------------------------------------------------------
                      00021 ; Rx/Tx ring settings
                      00022 ;------------------------------------------------------------------------------
                      00023 
                      00024 ; End of Line Character
                      00025 #DEFINE         EOLNCHAR    0x0D            ; CR
                      00026 
                      00027 ; Rx/Tx ring Flow Control
                      00028 #DEFINE         OVERFLOW    (256 / 27)      ; Rx/Tx ring size / Max slcan size
                      00029 #DEFINE         CONTROL     (3)             ; Flow Control
                      00030 
                      00031 ;------------------------------------------------------------------------------
                      00032 ; Rx/Tx ring variables
                      00033 ;------------------------------------------------------------------------------
                      00034 
                      00035                 CBLOCK
  00000002            00036                 ; Rx ring
  00000003            00037                 RXGET   : 1                 ; GETC Main
  00000004            00038                 RXPUT   : 1                 ; PUTC ISR
  00000005            00039                 RXOVF   : 1                 ; ISR Overflow
  00000006            00040                 RXCNT   : 1                 ; Rx packet counter
  00000006            00041                 ; Tx ring
  00000007            00042                 TXGET   : 1                 ; GETC ISR
  00000008            00043                 TXPUT   : 1                 ; PUTC Main
  00000009            00044                 TXTEMP  : 1                 ; PUTC Temp
  0000000A            00045                 TXCNT   : 1                 ; Tx packet counter
                      00046                 ENDC
                      00047 
                      00048 ;------------------------------------------------------------------------------
                      00049 ; Rx/Tx ring
                      00050 ;------------------------------------------------------------------------------
                      00051 
  00000180            00052 RXBUF           EQU     0x0180              ; Rx ring FSR1
                      00053 
                      00054 ;0100:  80 81 82 83 84 85 86 87 88 89 8a 8b 8c 8d 8e 8f    ................
                      00055 ;0110:  90 91 92 93 94 95 96 97 98 99 9a 9b 9c 9d 9e 9f    ................
                      00056 ;0120:  a0 a1 a2 a3 a4 a5 a6 a7 a8 a9 aa ab ac ad ae af    ................
                      00057 ;0130:  b0 b1 b2 b3 b4 b5 b6 b7 b8 b9 ba bb bc bd be bf    ................
                      00058 ;0140:  c0 c1 c2 c3 c4 c5 c6 c7 c8 c9 ca cb cc cd ce cf    ................
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 11


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00059 ;0150:  d0 d1 d2 d3 d4 d5 d6 d7 d8 d9 da db dc dd de df    ................
                      00060 ;0160:  e0 e1 e2 e3 e4 e5 e6 e7 e8 e9 ea eb ec ed ee ef    ................
                      00061 ;0170:  f0 f1 f2 f3 f4 f5 f6 f7 f8 f9 fa fb fc fd fe ff    ................
                      00062 ;0180:  00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f    ................
                      00063 ;0190:  10 11 12 13 14 15 16 17 18 19 1a 1b 1c 1d 1e 1f    ................
                      00064 ;01a0:  20 21 22 23 24 25 26 27 28 29 2a 2b 2c 2d 2e 2f     !"#$%&'()*+,-./
                      00065 ;01b0:  30 31 32 33 34 35 36 37 38 39 3a 3b 3c 3d 3e 3f    0123456789:;<=>?
                      00066 ;01c0:  40 41 42 43 44 45 46 47 48 49 4a 4b 4c 4d 4e 4f    @ABCDEFGHIJKLMNO
                      00067 ;01d0:  50 51 52 53 54 55 56 57 58 59 5a 5b 5c 5d 5e 5f    PQRSTUVWXYZ[\]^_
                      00068 ;01e0:  60 61 62 63 64 65 66 67 68 69 6a 6b 6c 6d 6e 6f    `abcdefghijklmno
                      00069 ;01f0:  70 71 72 73 74 75 76 77 78 79 7a 7b 7c 7d 7e 7f    pqrstuvwxyz.....
                      00070 
  00000280            00071 TXBUF           EQU     0x0280              ; Tx ring FSR2
                      00072 
                      00073 ;------------------------------------------------------------------------------
                      00074 ; Rx/Tx ring macros
                      00075 ;------------------------------------------------------------------------------
                      00076 
                      00077 GETC            MACRO
                      00078                 MOVF    RXGET,W
                      00079                 MOVF    PLUSW1,W
                      00080                 INCF    RXGET,F             ; RXGET++
                      00081                 ENDM
                      00082 
                      00083 PUTC            MACRO
                      00084                 MOVWF   TXTEMP
                      00085                 MOVF    TXPUT,W
                      00086                 MOVFF   TXTEMP,PLUSW2
                      00087                 INCF    TXPUT,F             ; TXPUT++
                      00088                 ENDM
                      00089 
                      00090 ;------------------------------------------------------------------------------
                      00091 ; Rx ring ISR
                      00092 ; 
                      00093 ;  Affects RXPUT & uses FSR1; do not use these elsewhere.
                      00094 ;------------------------------------------------------------------------------
00008C                00095 ISRHIGH
                      00096                 ; Read Rx Data & Flush IRQ
00008C 5004           00097                 MOVF    RXPUT,W
00008E CF7A FFE3      00098                 MOVFF   URCREG,PLUSW1       ; Won't clobber with Overflow On
                      00099 
                      00100                 ; If Rx packet counter = trigger Then Drop Data
000092 5006           00101                 MOVF    RXCNT,W
000094 0A09           00102                 XORLW   OVERFLOW
000096 E103           00103                 BNZ     ISRHIGH1
                      00104 
                      00105                 ; Overflow On
000098 6805           00106                 SETF    RXOVF
                      00107 
                      00108                 UARTOVFL                    ; UART packet status LED
00009A 8E8A               M                 BSF     LATB,7              ; LED2 UART Packet dropped
00009C 0011           00109                 RETFIE  FAST
                      00110 
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 12


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00111 ;------------------------------------------------------------------------------
00009E                00112 ISRHIGH1
                      00113                 ; If Overflow On Then Drop Data
00009E 5005           00114                 MOVF    RXOVF,W             ; Overflow On?
0000A0 E006           00115                 BZ      ISRHIGH3            ; No...
                      00116 
                      00117                 ; Disable Overflow When End of Line
0000A2 5004           00118                 MOVF    RXPUT,W
0000A4 50E3           00119                 MOVF    PLUSW1,W            ; EOLN?
0000A6 0A0D           00120                 XORLW   EOLNCHAR
0000A8 E101           00121                 BNZ     ISRHIGH2
                      00122 
                      00123                 ; Overflow Off
0000AA 6A05           00124                 CLRF    RXOVF
0000AC                00125 ISRHIGH2
0000AC 0011           00126                 RETFIE  FAST
                      00127                 
                      00128 ;------------------------------------------------------------------------------
0000AE                00129 ISRHIGH3
                      00130                 ; Save Rx Data
0000AE 5004           00131                 MOVF    RXPUT,W
0000B0 2A04           00132                 INCF    RXPUT,F             ; PUTC++
                      00133 
0000B2 50E3           00134                 MOVF    PLUSW1,W            ; EOLN?
0000B4 0A0D           00135                 XORLW   EOLNCHAR
0000B6 E105           00136                 BNZ     ISRHIGHEND
                      00137 
0000B8 2A06           00138                 INCF    RXCNT,F             ; Rx packet counter++
0000BA 5006           00139                 MOVF    RXCNT,W             ; Flow control on?
0000BC 0803           00140                 SUBLW   CONTROL
0000BE E201           00141                 BC      ISRHIGHEND
                      00142 
                      00143                 ; Not Clear to Send; RXCNT > CONTROL
                      00144                 RTSSET
0000C0 888A               M                 BSF     LATB,4              ; RTS/CTS NOT CLEAR TO SEND
0000C2                00145 ISRHIGHEND
                      00146                 UARTRECV                    ; UART packet status LED
0000C2 9E8A               M                 BCF     LATB,7              ; LED2 UART Packet received
0000C4 0011           00147                 RETFIE  FAST
                      00148 
                      00149 ;------------------------------------------------------------------------------
                      00150 ; Tx ring ISR
                      00151 ; 
                      00152 ;  Affects TXGET & uses FSR2; do not use these elsewhere.
                      00153 ;------------------------------------------------------------------------------
0000C6                00154 ISRLOW
0000C6 CFD8 F001      00155                 MOVFF   STATUS,S_SAVE       ; SAVE STATUS
0000CA 6E02           00156                 MOVWF   W_SAVE              ; SAVE WORKING REGISTER
                      00157 
0000CC 5007           00158                 MOVF    TXGET,W
0000CE 50DB           00159                 MOVF    PLUSW2,W
0000D0 2A07           00160                 INCF    TXGET,F
                      00161 
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 13


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

0000D2 6E79           00162                 MOVWF   UTXREG
0000D4 0A0D           00163                 XORLW   EOLNCHAR
0000D6 E103           00164                 BNZ     ISRLOWEND
                      00165 
0000D8 060A           00166                 DECF    TXCNT,F             ; Tx packet counter--
0000DA E101           00167                 BNZ     ISRLOWEND
0000DC 98A3           00168                 BCF     UPIE,UTXIE          ; Disable Tx ring ISR
0000DE                00169 ISRLOWEND
0000DE 5002           00170                 MOVF    W_SAVE,W            ; RESTORE WORKING REGISTER
0000E0 C001 FFD8      00171                 MOVFF   S_SAVE,STATUS       ; RESTORE STATUS
                      00172 
0000E4 0010           00173                 RETFIE
                      00174 
                      00175 ;------------------------------------------------------------------------------
                      00176 ; Init. Rx/Tx ring
                      00177 ;------------------------------------------------------------------------------
0000E6                00178 INITRING
0000E6 EE11 F080      00179                 LFSR    FSR1,RXBUF          ; FSR1 H/L Reserved for Rx ring
0000EA EE22 F080      00180                 LFSR    FSR2,TXBUF          ; FSR2 H/L Reserved for Tx ring
                      00181 
0000EE 6A03           00182                 CLRF    RXGET               ; Rx index = 0
0000F0 6A04           00183                 CLRF    RXPUT
0000F2 6A05           00184                 CLRF    RXOVF
                      00185 
0000F4 6A07           00186                 CLRF    TXGET               ; Tx index = 0
0000F6 6A08           00187                 CLRF    TXPUT
                      00188 
0000F8 6A06           00189                 CLRF    RXCNT               ; Reset Rx packet counter
0000FA 6A0A           00190                 CLRF    TXCNT               ; Reset Tx packet counter
                      00191 
0000FC 0012           00192                 RETURN
                      00193 
                      00194 ;------------------------------------------------------------------------------
                      00195 ;
                      00196 ; vim: shiftwidth=4 tabstop=4 softtabstop=4 expandtab
                      00197 ;
                      00128 #INCLUDE        "can.inc"                   ; CAN
                      00001 ;------------------------------------------------------------------------------
                      00002 ;
                      00003 ; Can-Can CAN
                      00004 ;
                      00005 ; Copyright (c) 2014 Darron M Broad
                      00006 ;
                      00007 ;------------------------------------------------------------------------------
                      00008 ;
                      00009 ; This file is part of the Can-Can CAN bus interface project.
                      00010 ;
                      00011 ; Can-Can is licensed under the CC BY-NC-SA 4.0.
                      00012 ;
                      00013 ; See file /LICENSE for details.
                      00014 ; 
                      00015 ;------------------------------------------------------------------------------
                      00016 
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 14


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00017                 LIST
                      00018                 RADIX   DEC
                      00019 
                      00020 ;------------------------------------------------------------------------------
                      00021 ; CAN Bus variables
                      00022 ;------------------------------------------------------------------------------
                      00023     
                      00024                 CBLOCK
  0000000B            00025                 CANCMD  : 1
  0000000C            00026                 CANID   : 1
  0000000D            00027                 CANCNT  : 1
                      00028                 ENDC
                      00029 
                      00030 ;------------------------------------------------------------------------------
                      00031 ; CAN Bus settings
                      00032 ;------------------------------------------------------------------------------
                      00033 
                      00034 #IF CAN != PORTB
                      00035     #IF CAN != PORTC
                      00036         ERROR   "CAN port not configured"
                      00037     #ENDIF
                      00038 #ENDIF
                      00039 
                      00040 #IFNDEF REQOP0
                      00041 REQOP0          EQU     H'0005'
                      00042 REQOP1          EQU     H'0006'
                      00043 REQOP2          EQU     H'0007'
                      00044 #ENDIF
                      00045 #IFNDEF RXB0DBEN
                      00046 RXB0DBEN        EQU     H'0002'
                      00047 #ENDIF
                      00048 
                      00049 #DEFINE         CAN_WIN_OFF  0x00           ; 000X
                      00050 #DEFINE         CAN_WIN_RXB0 0x0C           ; 110X
                      00051 #DEFINE         CAN_WIN_RXB1 0x0A           ; 101X
                      00052 #DEFINE         CAN_WIN_TXB0 0x08           ; 100X
                      00053 #DEFINE         CAN_WIN_TXB1 0x06           ; 011X
                      00054 #DEFINE         CAN_WIN_TXB2 0x04           ; 010X
                      00055 
                      00056 #INCLUDE        "canrates.inc"
                      00001 ;------------------------------------------------------------------------------
                      00002 ;
                      00003 ; Can-Can CAN rates
                      00004 ;
                      00005 ; Copyright (c) 2014 Darron M Broad
                      00006 ;
                      00007 ;------------------------------------------------------------------------------
                      00008 ;
                      00009 ; This file is part of the Can-Can CAN bus interface project.
                      00010 ;
                      00011 ; Can-Can is licensed under the CC BY-NC-SA 4.0.
                      00012 ;
                      00013 ; See file /LICENSE for details.
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 15


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00014 ; 
                      00015 ;------------------------------------------------------------------------------
                      00016 
                      00017                 LIST
                      00018                 RADIX   DEC
                      00019 
                      00020 ;------------------------------------------------------------------------------
                      00021 
                      00022 #IFNDEF CANRATE
                      00023     ERROR       "CAN Bus rate not defined"
                      00024 #ENDIF
                      00025 
                      00026 #IF CLOCK != 16000000
                      00027     #IF CLOCK != 40000000
                      00028         #IF CLOCK != 48000000
                      00029             #IF CLOCK != 60000000
                      00030                 #IF CLOCK != 64000000
                      00031                      ERROR   "CAN Bus rate not calculated"
                      00032                 #ENDIF
                      00033             #ENDIF
                      00034         #ENDIF
                      00035     #ENDIF
                      00036 #ENDIF
                      00037 
                      00038 #IF CLOCK == 16000000
                      00039     #IF CANRATE == 1000
                      00040         #DEFINE BRG1 0x00
                      00041         #DEFINE BRG2 0x84
                      00042         #DEFINE BRG3 0x00
                      00043     #ENDIF
                      00044     #IF CANRATE == 500
                      00045         #DEFINE BRG1 0x00
                      00046         #DEFINE BRG2 0xBC
                      00047         #DEFINE BRG3 0x01
                      00048     #ENDIF
                      00049     #IF CANRATE == 250
                      00050         #DEFINE BRG1 0x01
                      00051         #DEFINE BRG2 0xBC
                      00052         #DEFINE BRG3 0x01
                      00053     #ENDIF
                      00054     #IF CANRATE == 125
                      00055         #DEFINE BRG1 0x03
                      00056         #DEFINE BRG2 0xBC
                      00057         #DEFINE BRG3 0x01
                      00058     #ENDIF
                      00059     #IF CANRATE == 100
                      00060         #DEFINE BRG1 0x04
                      00061         #DEFINE BRG2 0xBC
                      00062         #DEFINE BRG3 0x01
                      00063     #ENDIF
                      00064     #IF CANRATE == 50
                      00065         #DEFINE BRG1 0x09
                      00066         #DEFINE BRG2 0xBC
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 16


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00067         #DEFINE BRG3 0x01
                      00068     #ENDIF
                      00069     #IF CANRATE == 20
                      00070         #DEFINE BRG1 0x18
                      00071         #DEFINE BRG2 0xBC
                      00072         #DEFINE BRG3 0x01
                      00073     #ENDIF
                      00074     #IF CANRATE == 10
                      00075         #DEFINE BRG1 0x31
                      00076         #DEFINE BRG2 0xBC
                      00077         #DEFINE BRG3 0x01
                      00078     #ENDIF
                      00079 #ENDIF
                      00080 
                      00081 #IF CLOCK == 40000000
                      00082     #IF CANRATE == 500
                      00083         #DEFINE BRG1 0x04
                      00084         #DEFINE BRG2 0x84
                      00085         #DEFINE BRG3 0x00
                      00086     #ENDIF
                      00087     #IF CANRATE == 250
                      00088         #DEFINE BRG1 0x04
                      00089         #DEFINE BRG2 0xBC
                      00090         #DEFINE BRG3 0x01
                      00091     #ENDIF
                      00092     #IF CANRATE == 125
                      00093         #DEFINE BRG1 0x09
                      00094         #DEFINE BRG2 0xBC
                      00095         #DEFINE BRG3 0x01
                      00096     #ENDIF
                      00097     #IF CANRATE == 100
                      00098         #DEFINE BRG1 0x18
                      00099         #DEFINE BRG2 0x84
                      00100         #DEFINE BRG3 0x00
                      00101     #ENDIF
                      00102     #IF CANRATE == 50
                      00103         #DEFINE BRG1 0x18
                      00104         #DEFINE BRG2 0xBC
                      00105         #DEFINE BRG3 0x01
                      00106     #ENDIF
                      00107 #ENDIF
                      00108 
                      00109 #IF CLOCK == 48000000
                      00110     #IF CANRATE == 1000
                      00111         #DEFINE BRG1 0x00
                      00112         #DEFINE BRG2 0xBF
                      00113         #DEFINE BRG3 0x06
                      00114     #ENDIF
                      00115     #IF CANRATE == 500
                      00116         #DEFINE BRG1 0x02
                      00117         #DEFINE BRG2 0xBC
                      00118         #DEFINE BRG3 0x01
                      00119     #ENDIF
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 17


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00120     #IF CANRATE == 250
                      00121         #DEFINE BRG1 0x05
                      00122         #DEFINE BRG2 0xBC
                      00123         #DEFINE BRG3 0x01
                      00124     #ENDIF
                      00125     #IF CANRATE == 125
                      00126         #DEFINE BRG1 0x0B
                      00127         #DEFINE BRG2 0xBC
                      00128         #DEFINE BRG3 0x01
                      00129     #ENDIF
                      00130     #IF CANRATE == 100
                      00131         #DEFINE BRG1 0x0E
                      00132         #DEFINE BRG2 0xBC
                      00133         #DEFINE BRG3 0x01
                      00134     #ENDIF
                      00135     #IF CANRATE == 50
                      00136         #DEFINE BRG1 0x1D
                      00137         #DEFINE BRG2 0xBC
                      00138         #DEFINE BRG3 0x01
                      00139     #ENDIF
                      00140     #IF CANRATE == 20
                      00141         #DEFINE BRG1 0x3B
                      00142         #DEFINE BRG2 0xBF
                      00143         #DEFINE BRG3 0x02
                      00144     #ENDIF
                      00145 #ENDIF
                      00146 
                      00147 #IF CLOCK == 60000000
                      00148     #IF CANRATE == 1000
                      00149         #DEFINE BRG1 0x00
                      00150         #DEFINE BRG2 0xBB
                      00151         #DEFINE BRG3 0x01
                      00152     #ENDIF
                      00153     #IF CANRATE == 500
                      00154         #DEFINE BRG1 0x01
                      00155         #DEFINE BRG2 0xBB
                      00156         #DEFINE BRG3 0x01
                      00157     #ENDIF
                      00158     #IF CANRATE == 250
                      00159         #DEFINE BRG1 0x03
                      00160         #DEFINE BRG2 0xBB
                      00161         #DEFINE BRG3 0x01
                      00162     #ENDIF
                      00163     #IF CANRATE == 125
                      00164         #DEFINE BRG1 0x07
                      00165         #DEFINE BRG2 0xBB
                      00166         #DEFINE BRG3 0x01
                      00167     #ENDIF
                      00168     #IF CANRATE == 100
                      00169         #DEFINE BRG1 0x09
                      00170         #DEFINE BRG2 0xBB
                      00171         #DEFINE BRG3 0x01
                      00172     #ENDIF
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 18


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00173     #IF CANRATE == 50
                      00174         #DEFINE BRG1 0x13
                      00175         #DEFINE BRG2 0xBB
                      00176         #DEFINE BRG3 0x01
                      00177     #ENDIF
                      00178     #IF CANRATE == 20
                      00179         #DEFINE BRG1 0x31
                      00180         #DEFINE BRG2 0xBB
                      00181         #DEFINE BRG3 0x01
                      00182     #ENDIF
                      00183     #IF CANRATE == 10
                      00184         #DEFINE BRG1 0x3B
                      00185         #DEFINE BRG2 0xBF
                      00186         #DEFINE BRG3 0x07
                      00187     #ENDIF
                      00188 #ENDIF
                      00189 
                      00190 #IF CLOCK == 64000000
                      00191     #IF CANRATE == 1000
                      00192         #DEFINE BRG1 0x01
                      00193         #DEFINE BRG2 0xBC
                      00194         #DEFINE BRG3 0x01
                      00195     #ENDIF
                      00196     #IF CANRATE == 500
                      00197         #DEFINE BRG1 0x03
                      00198         #DEFINE BRG2 0xBC
                      00199         #DEFINE BRG3 0x01
                      00200     #ENDIF
                      00201     #IF CANRATE == 250
                      00202         #DEFINE BRG1 0x07
                      00203         #DEFINE BRG2 0xBC
                      00204         #DEFINE BRG3 0x01
                      00205     #ENDIF
                      00206     #IF CANRATE == 125
                      00207         #DEFINE BRG1 0x0F
                      00208         #DEFINE BRG2 0xBC
                      00209         #DEFINE BRG3 0x01
                      00210     #ENDIF
                      00211     #IF CANRATE == 100
                      00212         #DEFINE BRG1 0x13
                      00213         #DEFINE BRG2 0xBC
                      00214         #DEFINE BRG3 0x01
                      00215     #ENDIF
                      00216     #IF CANRATE == 50
                      00217         #DEFINE BRG1 0x27
                      00218         #DEFINE BRG2 0xBC
                      00219         #DEFINE BRG3 0x01
                      00220     #ENDIF
                      00221 #ENDIF
                      00222 
                      00223 ;------------------------------------------------------------------------------
                      00224 ;
                      00225 ; vim: shiftwidth=4 tabstop=4 softtabstop=4 expandtab
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 19


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00226 ;
                      00057 #INCLUDE        "canid.inc"
                      00001 ;------------------------------------------------------------------------------
                      00002 ;
                      00003 ; Can-Can CAN ID
                      00004 ;
                      00005 ; Copyright (c) 2014 Darron M Broad
                      00006 ;
                      00007 ;------------------------------------------------------------------------------
                      00008 ;
                      00009 ; This file is part of the Can-Can CAN bus interface project.
                      00010 ;
                      00011 ; Can-Can is licensed under the CC BY-NC-SA 4.0.
                      00012 ;
                      00013 ; See file /LICENSE for details.
                      00014 ; 
                      00015 ;------------------------------------------------------------------------------
                      00016 
                      00017                 LIST
                      00018                 RADIX   DEC
                      00019 
                      00020 ;------------------------------------------------------------------------------
                      00021 ; MCHP CAN ID
                      00022 ;------------------------------------------------------------------------------
                      00023 ;
                      00024 ; RXB0SIDH
                      00025 ; --------
                      00026 ; SID10 SID9  SID8  SID7  SID6  SID5  SID4  SID3
                      00027 ;
                      00028 ; EID28 EID27 EID26 EID25 EID24 EID23 EID22 EID21
                      00029 ;
                      00030 ; RXB0SIDL
                      00031 ; --------
                      00032 ; SID2  SID1  SID0  X    EXIDEN X     X     X
                      00033 ;
                      00034 ; EID20 EID19 EID18 X    EXIDEN X     EID17 EID16
                      00035 ;
                      00036 ; RXB0EIDH
                      00037 ; --------
                      00038 ; EID15 EID14 EID13 EID12 EID11 EID10 EID9  EID8
                      00039 ;
                      00040 ; RXB0EIDL
                      00041 ; --------
                      00042 ; EID7  EID6  EID5  EID4  EID3  EID2  EID1  EID0
                      00043 ;
                      00044 ; STANDARD ID 11-bit
                      00045 ; ------------------
                      00046 ; [XX XX XX XX XX 10 09 08]  [07 06 05 04 03 02 01 00]
                      00047 ;
                      00048 ; EXTENDED ID 29-bit
                      00049 ; ------------------
                      00050 ; [XX XX XX 28 27 26 25 24]  [23 22 21 20 19 18 17 16]
                      00051 ; [15 14 13 12 11 10 09 08]  [07 06 05 04 03 02 01 00]
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 20


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00052 
                      00053 ;------------------------------------------------------------------------------
                      00054 ; MCHP STANDARD CAN ID macros
                      00055 ;------------------------------------------------------------------------------
                      00056 
                      00057 ; Take lower 3-bits in W and store in SID10..SID8, SID7..SID3 are RESET
                      00058 TXSID_10_8      MACRO   
                      00059                 ANDLW   b'00000111'
                      00060                 RRNCF   WREG,F
                      00061                 RRNCF   WREG,F
                      00062                 RRNCF   WREG,F
                      00063                 MOVWF   RXB0SIDH
                      00064                 ENDM
                      00065 
                      00066 ; Take upper 5-bits in W and store in SID7..SID3, SID10..SID8 are UNAFFECTED
                      00067 TXSID_7_3       MACRO   
                      00068                 ANDLW   b'11111000'
                      00069                 RRNCF   WREG,F
                      00070                 RRNCF   WREG,F
                      00071                 RRNCF   WREG,F
                      00072                 IORWF   RXB0SIDH,F
                      00073                 ENDM
                      00074 
                      00075 ; Take lower 3-bits in W and store in SID2..SID0, EXIDEN is RESET
                      00076 TXSID_2_0       MACRO
                      00077                 ANDLW   b'00000111'
                      00078                 RRNCF   WREG,F
                      00079                 RRNCF   WREG,F
                      00080                 RRNCF   WREG,F
                      00081                 MOVWF   RXB0SIDL
                      00082                 ENDM
                      00083 
                      00084 ;------------------------------------------------------------------------------
                      00085 
                      00086 ; Take SID10..SID8 and store in lower 3-bits of W
                      00087 RXSID_10_8      MACRO
                      00088                 MOVF    RXB0SIDH,W
                      00089                 ANDLW   b'11100000'
                      00090                 RLNCF   WREG,F
                      00091                 RLNCF   WREG,F
                      00092                 RLNCF   WREG,F
                      00093                 ENDM
                      00094 
                      00095 ; Take SID7..SID3 and store in upper 5-bits of CANID
                      00096 RXSID_7_0       MACRO
                      00097                 MOVF    RXB0SIDH,W
                      00098                 ANDLW   b'00011111'
                      00099                 RLNCF   WREG,F
                      00100                 RLNCF   WREG,F
                      00101                 RLNCF   WREG,F
                      00102                 MOVWF   CANID
                      00103 
                      00104 ; Take SID2..SID0 and store in upper 3-bits of W, take lower 5-bits from CANID
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 21


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00105                 MOVF    RXB0SIDL,W
                      00106                 ANDLW   b'11100000'
                      00107                 RLNCF   WREG,F
                      00108                 RLNCF   WREG,F
                      00109                 RLNCF   WREG,F
                      00110                 IORWF   CANID,W
                      00111                 ENDM
                      00112 
                      00113 ;------------------------------------------------------------------------------
                      00114 ; MCHP EXTENDED CAN ID macros
                      00115 ;------------------------------------------------------------------------------
                      00116 
                      00117 ; Take lower 5-bits in W and store in EID28..EID24, EID23..EID21 are RESET
                      00118 TXEXT_28_24     MACRO   
                      00119                 ANDLW   b'00011111'
                      00120                 RLNCF   WREG,F
                      00121                 RLNCF   WREG,F
                      00122                 RLNCF   WREG,F
                      00123                 MOVWF   RXB0SIDH
                      00124                 ENDM
                      00125 
                      00126 ; Take upper 3-bits in W and store in EID23..EID21, EID28..EID24 are UNAFFECTED
                      00127 TXEXT_23_21     MACRO   
                      00128                 ANDLW   b'11100000'
                      00129                 RLNCF   WREG,F
                      00130                 RLNCF   WREG,F
                      00131                 RLNCF   WREG,F
                      00132                 IORWF   RXB0SIDH,F
                      00133                 ENDM
                      00134 
                      00135 ; Take 3-bits in W and store in EID20..EID18, EXIDEN & EID17..EID16 are RESET
                      00136 TXEXT_20_18     MACRO   
                      00137                 ANDLW   b'00011100'
                      00138                 RLNCF   WREG,F
                      00139                 RLNCF   WREG,F
                      00140                 RLNCF   WREG,F
                      00141                 MOVWF   RXB0SIDL
                      00142                 ENDM
                      00143 
                      00144 ; Take lower 2-bits in W and store in EXIDEN & EID17..EID16, EID20..EID18 are UNAFFECTED
                      00145 TXEXT_17_16     MACRO   
                      00146                 ANDLW   b'00000011'
                      00147                 IORWF   RXB0SIDL,F
                      00148                 ENDM
                      00149 
                      00150 ;------------------------------------------------------------------------------
                      00151 
                      00152 ; Take EID28..EID24 and store in lower 5-bits of W
                      00153 RXEXT_28_24     MACRO
                      00154                 MOVF    RXB0SIDH,W
                      00155                 ANDLW   b'11111000'
                      00156                 RRNCF   WREG,F
                      00157                 RRNCF   WREG,F
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 22


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00158                 RRNCF   WREG,F
                      00159                 ENDM
                      00160 
                      00161 ; Take EID23..EID21 and store in upper 3-bits of CANID
                      00162 RXEXT_23_16     MACRO
                      00163                 MOVF    RXB0SIDH,W
                      00164                 ANDLW   b'00000111'
                      00165                 RRNCF   WREG,F
                      00166                 RRNCF   WREG,F
                      00167                 RRNCF   WREG,F
                      00168                 MOVWF   CANID
                      00169 
                      00170 ; Take EID20..EID18 and store in W, take upper 3-bits from CANID
                      00171                 MOVF    RXB0SIDL,W
                      00172                 ANDLW   b'11100000'
                      00173                 RRNCF   WREG,F
                      00174                 RRNCF   WREG,F
                      00175                 RRNCF   WREG,F
                      00176                 IORWF   CANID,F
                      00177 
                      00178 ; Take EID17..EID16 and store in W, take upper 6-bits from CANID
                      00179                 MOVF    RXB0SIDL,W
                      00180                 ANDLW   b'00000011'
                      00181                 IORWF   CANID,W
                      00182                 ENDM
                      00183 
                      00184 ;------------------------------------------------------------------------------
                      00185 ;
                      00186 ; vim: shiftwidth=4 tabstop=4 softtabstop=4 expandtab
                      00187 ;
                      00058 
                      00059 ;------------------------------------------------------------------------------
                      00060 ; Init. CAN bus
                      00061 ;------------------------------------------------------------------------------
0000FE                00062 INITCAN
                      00063 #IF CAN == PORTC
                      00064                 CLRF    TRISC
                      00065                 BSF     TRISC,7             ; CANRX I/P
                      00066 #ELSE
0000FE 6A93           00067                 CLRF    TRISB
000100 8693           00068                 BSF     TRISB,3             ; CANRX I/P
                      00069 #ENDIF
                      00070                 ; Set configuration mode
000102 0E80           00071                 MOVLW   (1 << REQOP2)
000104 6E6F           00072                 MOVWF   CANCON
000106                00073 INITCAN1
000106 506E           00074                 MOVF    CANSTAT,W
000108 0B80           00075                 ANDLW   (1 << OPMODE2)
00010A E0FD           00076                 BZ      INITCAN1
                      00077 
                      00078                 ; Set mask/filter
                      00079                 ;
                      00080                 ; Mask  Filter  Message
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 23


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00081                 ; 0     x       x       accept
                      00082                 ; 1     0       0       accept
                      00083                 ; 1     0       1       reject
                      00084                 ; 1     1       0       reject
                      00085                 ; 1     1       1       accept
                      00086 
                      00087                 ; Set receive masks
00010C 010E           00088                 BANKSEL RXM0SIDH
00010E 6BF8           00089                 CLRF    RXM0SIDH            ; RXB0 extended filters 0/1
000110 6BF9           00090                 CLRF    RXM0SIDL
000112 6BFA           00091                 CLRF    RXM0EIDH
000114 6BFB           00092                 CLRF    RXM0EIDL
                      00093 
000116 6BFC           00094                 CLRF    RXM1SIDH            ; RXB1 standard filters 2/3/4/5
000118 6BFD           00095                 CLRF    RXM1SIDL
                      00096 
                      00097                 ; Set extended receive filters for RXB0
00011A 010E           00098                 BANKSEL RXF0SIDH
00011C 6BE0           00099                 CLRF    RXF0SIDH
00011E 6BE2           00100                 CLRF    RXF0EIDH
000120 6BE3           00101                 CLRF    RXF0EIDL
000122 6BE4           00102                 CLRF    RXF1SIDH
000124 6BE6           00103                 CLRF    RXF1EIDH
000126 6BE7           00104                 CLRF    RXF1EIDL
000128 0E08           00105                 MOVLW   (1 << EXIDEN)       ; EXIDEN = 1
00012A 6FE1           00106                 MOVWF   RXF0SIDL
00012C 6FE5           00107                 MOVWF   RXF1SIDL
                      00108 
                      00109                 ; Set standard receive filters for RXB1
00012E 010E           00110                 BANKSEL RXF2SIDH
000130 6BE8           00111                 CLRF    RXF2SIDH
000132 6BEC           00112                 CLRF    RXF3SIDH
000134 6BF0           00113                 CLRF    RXF4SIDH
000136 6BF4           00114                 CLRF    RXF5SIDH
000138 6BE9           00115                 CLRF    RXF2SIDL            ; EXIDEN = 0
00013A 6BED           00116                 CLRF    RXF3SIDL
00013C 6BF1           00117                 CLRF    RXF4SIDL
00013E 6BF5           00118                 CLRF    RXF5SIDL
                      00119 
                      00120                 ; Set bit rate
000140 010E           00121                 BANKSEL BRGCON1
000142 0E07           00122                 MOVLW   BRG1
000144 6F43           00123                 MOVWF   BRGCON1
000146 0EBC           00124                 MOVLW   BRG2
000148 6F44           00125                 MOVWF   BRGCON2
00014A 0E01           00126                 MOVLW   BRG3
00014C 6F45           00127                 MOVWF   BRGCON3
                      00128 
                      00129                 ; Enable CANTX
00014E 010F           00130                 BANKSEL CIOCON
000150 8A70           00131                 BSF     CIOCON,ENDRHI
                      00132 
                      00133                 ; Reset receivers
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 24


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

000152 6A60           00134                 CLRF    RXB0CON
000154 6B30           00135                 CLRF    RXB1CON
                      00136 
                      00137                 ; Set normal mode
000156 6A6F           00138                 CLRF    CANCON
000158                00139 INITCAN2
000158 506E           00140                 MOVF    CANSTAT,W
00015A 0BC0           00141                 ANDLW   (1 << OPMODE2) + (1 << OPMODE1)
00015C E1FD           00142                 BNZ     INITCAN2
                      00143 
00015E 0012           00144                 RETURN
                      00145 
                      00146 ;------------------------------------------------------------------------------
                      00147 ; Serial Line CAN (SLCAN) Protocol 
                      00148 ;------------------------------------------------------------------------------
                      00149 
                      00150 ; TSSSEEEEEX1122334455667788\r
                      00151 ; |   |    |       |        |
                      00152 ; |   ID   DLC     DATA     EOLN
                      00153 ; |
                      00154 ; t--data frame with 11-bit ID
                      00155 ; r--RTR  frame with 11-bit ID
                      00156 ; T--data frame with 29-bit ID
                      00157 ; R--RTR  frame with 29-bit ID
                      00158 
                      00159 #DEFINE         STDDATA     't'             ; 0x74 0111 0100
                      00160 #DEFINE         STDRTR      'r'             ; 0x72 0111 0010
                      00161 #DEFINE         EXTDATA     'T'             ; 0x54 0101 0100
                      00162 #DEFINE         EXTRTR      'R'             ; 0x52 0101 0010
                      00163 
                      00164 ; C\r
                      00165 ; |
                      00166 ; O | C | F
                      00167 
                      00168 #DEFINE         OPENCMD     'O'
                      00169 #DEFINE         CLOSECMD    'C'
                      00170 #DEFINE         READSTATUS  'F'
                      00171 
                      00172 ;------------------------------------------------------------------------------
                      00173 ; CAN bus functions
                      00174 ;------------------------------------------------------------------------------
                      00175 
                      00176 #INCLUDE        "canrx.inc"
                      00001 ;------------------------------------------------------------------------------
                      00002 ;
                      00003 ; Can-Can CAN RX
                      00004 ;
                      00005 ; Copyright (c) 2014 Darron M Broad
                      00006 ;
                      00007 ;------------------------------------------------------------------------------
                      00008 ;
                      00009 ; This file is part of the Can-Can CAN bus interface project.
                      00010 ;
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 25


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00011 ; Can-Can is licensed under the CC BY-NC-SA 4.0.
                      00012 ;
                      00013 ; See file /LICENSE for details.
                      00014 ; 
                      00015 ;------------------------------------------------------------------------------
                      00016 
                      00017                 LIST
                      00018                 RADIX   DEC
                      00019 
                      00020 ;------------------------------------------------------------------------------
                      00021 ; Receive message on CAN bus and send on UART
                      00022 ;------------------------------------------------------------------------------
000160                00023 RXCAN
                      00024                 ; Find an Rx slot
000160 6A6F           00025                 CLRF    CANCON              ; Window mode off
000162 BE60           00026                 BTFSC   RXB0CON,RXFUL
000164 D004           00027                 BRA     RXCANLIMIT
                      00028 
000166 0E0A           00029                 MOVLW   CAN_WIN_RXB1        ; Window mode on RXB1
000168 6E6F           00030                 MOVWF   CANCON
00016A AF30           00031                 BTFSS   RXB1CON,RXFUL
00016C 0012           00032                 RETURN
                      00033 
                      00034 ;------------------------------------------------------------------------------
00016E                00035 RXCANLIMIT
                      00036                 ; If Tx packet counter = trigger Then Drop Packet
00016E 500A           00037                 MOVF    TXCNT,W
000170 0A09           00038                 XORLW   OVERFLOW
000172 E103           00039                 BNZ     RXPACKET
                      00040 
                      00041                 CANOVFL                     ; CAN packet status LED
000174 8C8A               M                 BSF     LATB,6              ; LED1 CAN Packet dropped
000176 9E60           00042                 BCF     RXB0CON,RXFUL       ; Packet dropped
000178 0012           00043                 RETURN
                      00044 
                      00045 ;------------------------------------------------------------------------------
00017A                00046 RXPACKET
00017A B662           00047                 BTFSC   RXB0SIDL,EXID
00017C D01E           00048                 BRA     RXEXT
                      00049 
                      00050 ;------------------------------------------------------------------------------
00017E                00051 RXSTD
00017E 0E74           00052                 MOVLW   STDDATA             ; Standard data
000180 BC65           00053                 BTFSC   RXB0DLC,RXRTR
000182 0E72           00054                 MOVLW   STDRTR              ; Standard rtr
                      00055                 PUTC                        ; Tx
000184 6E09               M                 MOVWF   TXTEMP
000186 5008               M                 MOVF    TXPUT,W
000188 C009 FFDB          M                 MOVFF   TXTEMP,PLUSW2
00018C 2A08               M                 INCF    TXPUT,F             ; TXPUT++
                      00056  
                      00057                 RXSID_10_8                  ; Get SID10..8
00018E 5061               M                 MOVF    RXB0SIDH,W
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 26


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

000190 0BE0               M                 ANDLW   b'11100000'
000192 46E8               M                 RLNCF   WREG,F
000194 46E8               M                 RLNCF   WREG,F
000196 46E8               M                 RLNCF   WREG,F
000198 EC9F F001      00058                 CALL    NIB2ASC             ; Tx
                      00059 
                      00060                 RXSID_7_0                   ; Get SID7..0
00019C 5061               M                 MOVF    RXB0SIDH,W
00019E 0B1F               M                 ANDLW   b'00011111'
0001A0 46E8               M                 RLNCF   WREG,F
0001A2 46E8               M                 RLNCF   WREG,F
0001A4 46E8               M                 RLNCF   WREG,F
0001A6 6E0C               M                 MOVWF   CANID
                          M 
                          M ; Take SID2..SID0 and store in upper 3-bits of W, take lower 5-bits from CANID
0001A8 5062               M                 MOVF    RXB0SIDL,W
0001AA 0BE0               M                 ANDLW   b'11100000'
0001AC 46E8               M                 RLNCF   WREG,F
0001AE 46E8               M                 RLNCF   WREG,F
0001B0 46E8               M                 RLNCF   WREG,F
0001B2 100C               M                 IORWF   CANID,W
0001B4 EC9B F001      00061                 CALL    BIN2ASC             ; Tx
                      00062 
0001B8 D026           00063                 BRA     RXCANDLC
                      00064 
                      00065 ;------------------------------------------------------------------------------
0001BA                00066 RXEXT
0001BA 0E54           00067                 MOVLW   EXTDATA             ; Extended data
0001BC BC65           00068                 BTFSC   RXB0DLC,RXRTR
0001BE 0E52           00069                 MOVLW   EXTRTR              ; Extended rtr
                      00070                 PUTC                        ; Tx
0001C0 6E09               M                 MOVWF   TXTEMP
0001C2 5008               M                 MOVF    TXPUT,W
0001C4 C009 FFDB          M                 MOVFF   TXTEMP,PLUSW2
0001C8 2A08               M                 INCF    TXPUT,F             ; TXPUT++
                      00071  
                      00072                 RXEXT_28_24                 ; Get EID28..EID24
0001CA 5061               M                 MOVF    RXB0SIDH,W
0001CC 0BF8               M                 ANDLW   b'11111000'
0001CE 42E8               M                 RRNCF   WREG,F
0001D0 42E8               M                 RRNCF   WREG,F
0001D2 42E8               M                 RRNCF   WREG,F
0001D4 EC9B F001      00073                 CALL    BIN2ASC             ; Tx
                      00074 
                      00075                 RXEXT_23_16                 ; Get EID23..EID16
0001D8 5061               M                 MOVF    RXB0SIDH,W
0001DA 0B07               M                 ANDLW   b'00000111'
0001DC 42E8               M                 RRNCF   WREG,F
0001DE 42E8               M                 RRNCF   WREG,F
0001E0 42E8               M                 RRNCF   WREG,F
0001E2 6E0C               M                 MOVWF   CANID
                          M 
                          M ; Take EID20..EID18 and store in W, take upper 3-bits from CANID
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 27


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

0001E4 5062               M                 MOVF    RXB0SIDL,W
0001E6 0BE0               M                 ANDLW   b'11100000'
0001E8 42E8               M                 RRNCF   WREG,F
0001EA 42E8               M                 RRNCF   WREG,F
0001EC 42E8               M                 RRNCF   WREG,F
0001EE 120C               M                 IORWF   CANID,F
                          M 
                          M ; Take EID17..EID16 and store in W, take upper 6-bits from CANID
0001F0 5062               M                 MOVF    RXB0SIDL,W
0001F2 0B03               M                 ANDLW   b'00000011'
0001F4 100C               M                 IORWF   CANID,W
0001F6 EC9B F001      00076                 CALL    BIN2ASC             ; Tx
                      00077 
0001FA 5063           00078                 MOVF    RXB0EIDH,W          ; Get EID15..EID8
0001FC EC9B F001      00079                 CALL    BIN2ASC             ; Tx
                      00080 
000200 5064           00081                 MOVF    RXB0EIDL,W          ; Get EID7..EID0
000202 EC9B F001      00082                 CALL    BIN2ASC             ; Tx
                      00083 
                      00084 ;------------------------------------------------------------------------------
000206                00085 RXCANDLC
000206 5065           00086                 MOVF    RXB0DLC,W           ; Get DLC
000208 0B0F           00087                 ANDLW   0x0F
00020A 6E0D           00088                 MOVWF   CANCNT
00020C 0930           00089                 IORLW   0x30
                      00090                 PUTC                        ; Tx
00020E 6E09               M                 MOVWF   TXTEMP
000210 5008               M                 MOVF    TXPUT,W
000212 C009 FFDB          M                 MOVFF   TXTEMP,PLUSW2
000216 2A08               M                 INCF    TXPUT,F             ; TXPUT++
                      00091 
                      00092 ;------------------------------------------------------------------------------
                      00093 
000218 500D           00094                 MOVF    CANCNT,W            ; Get message
00021A E006           00095                 BZ      RXCANEOLN
                      00096 
00021C EE0F F066      00097                 LFSR    FSR0,RXB0D0
000220                00098 RXCANMESG
000220 50EE           00099                 MOVF    POSTINC0,W
000222 D889           00100                 RCALL   BIN2ASC             ; Tx
                      00101                 DJNZ    CANCNT,RXCANMESG
000224 2E0D               M                 DECFSZ  CANCNT,F
000226 D7FC               M                 BRA     RXCANMESG
                      00102 
                      00103 ;------------------------------------------------------------------------------
000228                00104 RXCANEOLN
                      00105 
000228 0E0D           00106                 MOVLW   EOLNCHAR
                      00107                 PUTC                        ; Tx
00022A 6E09               M                 MOVWF   TXTEMP
00022C 5008               M                 MOVF    TXPUT,W
00022E C009 FFDB          M                 MOVFF   TXTEMP,PLUSW2
000232 2A08               M                 INCF    TXPUT,F             ; TXPUT++
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 28


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00108 
000234 2A0A           00109                 INCF    TXCNT,F             ; Tx packet counter++
000236 88A3           00110                 BSF     UPIE,UTXIE          ; Enable Tx ring ISR
                      00111 
                      00112 ;------------------------------------------------------------------------------
                      00113 
                      00114                 CANRECV                     ; CAN packet status LED
000238 9C8A               M                 BCF     LATB,6              ; LED1 CAN Packet received
00023A 9E60           00115                 BCF     RXB0CON,RXFUL       ; Packet received
00023C 0012           00116                 RETURN
                      00117 
                      00118 ;------------------------------------------------------------------------------
                      00119 ;
                      00120 ; vim: shiftwidth=4 tabstop=4 softtabstop=4 expandtab
                      00121 ;
                      00177 #INCLUDE        "cantx.inc"
                      00001 ;------------------------------------------------------------------------------
                      00002 ;
                      00003 ; Can-Can CAN TX
                      00004 ;
                      00005 ; Copyright (c) 2014 Darron M Broad
                      00006 ;
                      00007 ;------------------------------------------------------------------------------
                      00008 ;
                      00009 ; This file is part of the Can-Can CAN bus interface project.
                      00010 ;
                      00011 ; Can-Can is licensed under the CC BY-NC-SA 4.0.
                      00012 ;
                      00013 ; See file /LICENSE for details.
                      00014 ; 
                      00015 ;------------------------------------------------------------------------------
                      00016 
                      00017                 LIST
                      00018                 RADIX   DEC
                      00019 
                      00020 ;------------------------------------------------------------------------------
                      00021 ; Receive message on UART and send on CAN bus
                      00022 ;------------------------------------------------------------------------------
00023E                00023 TXCAN
00023E 5006           00024                 MOVF    RXCNT,W             ; If Rx packet counter > 0
000240 E101           00025                 BNZ     TXCAN1
000242 0012           00026                 RETURN
                      00027 
                      00028 ;------------------------------------------------------------------------------
000244                00029 TXCAN1
                      00030                 ; Find a Tx slot
000244 0E08           00031                 MOVLW   CAN_WIN_TXB0        ; Window mode on TXB0
000246 6E6F           00032                 MOVWF   CANCON
000248 A720           00033                 BTFSS   TXB0CON,TXREQ
00024A D008           00034                 BRA     TXCAN2
                      00035 
00024C 0E06           00036                 MOVLW   CAN_WIN_TXB1        ; Window mode on TXB1
00024E 6E6F           00037                 MOVWF   CANCON
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 29


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

000250 A710           00038                 BTFSS   TXB1CON,TXREQ
000252 D004           00039                 BRA     TXCAN2
                      00040 
000254 0E04           00041                 MOVLW   CAN_WIN_TXB2        ; Window mode on TXB2
000256 6E6F           00042                 MOVWF   CANCON
000258 B700           00043                 BTFSC   TXB2CON,TXREQ
00025A 0012           00044                 RETURN
                      00045 
                      00046 ;------------------------------------------------------------------------------
00025C                00047 TXCAN2
                      00048                 GETC                        ; W = <RXBUF>,RXGET++
00025C 5003               M                 MOVF    RXGET,W
00025E 50E3               M                 MOVF    PLUSW1,W
000260 2A03               M                 INCF    RXGET,F             ; RXGET++
                      00049 
000262 6E0B           00050                 MOVWF   CANCMD              ; t?
000264 0A74           00051                 XORLW   STDDATA
000266 E00A           00052                 BZ      TXCANSTD
000268 500B           00053                 MOVF    CANCMD,W            ; r?
00026A 0A72           00054                 XORLW   STDRTR
00026C E007           00055                 BZ      TXCANSTD
                      00056 
00026E 500B           00057                 MOVF    CANCMD,W            ; T?
000270 0A54           00058                 XORLW   EXTDATA
000272 E01A           00059                 BZ      TXCANEXT
000274 500B           00060                 MOVF    CANCMD,W            ; r?
000276 0A52           00061                 XORLW   EXTRTR
000278 E017           00062                 BZ      TXCANEXT
                      00063 
00027A D045           00064                 BRA     TXCANEND            ; Unsupported
                      00065 
                      00066 ;------------------------------------------------------------------------------
00027C                00067 TXCANSTD
00027C D853           00068                 RCALL   ASC2NIB             ; GETC
                      00069                 TXSID_10_8                  ; Set SID10..8
00027E 0B07               M                 ANDLW   b'00000111'
000280 42E8               M                 RRNCF   WREG,F
000282 42E8               M                 RRNCF   WREG,F
000284 42E8               M                 RRNCF   WREG,F
000286 6E61               M                 MOVWF   RXB0SIDH
                      00070 
000288 EE00 F00C      00071                 LFSR    FSR0,CANID
00028C D845           00072                 RCALL   ASC2BIN             ; GETC, GETC
                      00073 
00028E 500C           00074                 MOVF    CANID,W
                      00075                 TXSID_7_3                   ; Set SID7..3
000290 0BF8               M                 ANDLW   b'11111000'
000292 42E8               M                 RRNCF   WREG,F
000294 42E8               M                 RRNCF   WREG,F
000296 42E8               M                 RRNCF   WREG,F
000298 1261               M                 IORWF   RXB0SIDH,F
                      00076 
00029A 500C           00077                 MOVF    CANID,W
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 30


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00078                 TXSID_2_0                   ; Set SID2..0
00029C 0B07               M                 ANDLW   b'00000111'
00029E 42E8               M                 RRNCF   WREG,F
0002A0 42E8               M                 RRNCF   WREG,F
0002A2 42E8               M                 RRNCF   WREG,F
0002A4 6E62               M                 MOVWF   RXB0SIDL
                      00079 
0002A6 D022           00080                 BRA     TXCAN3
                      00081 
                      00082 ;------------------------------------------------------------------------------
0002A8                00083 TXCANEXT
0002A8 EE00 F00C      00084                 LFSR    FSR0,CANID
0002AC D835           00085                 RCALL   ASC2BIN             ; GETC, GETC
                      00086 
0002AE 500C           00087                 MOVF    CANID,W
                      00088                 TXEXT_28_24                 ; Set EID28..24
0002B0 0B1F               M                 ANDLW   b'00011111'
0002B2 46E8               M                 RLNCF   WREG,F
0002B4 46E8               M                 RLNCF   WREG,F
0002B6 46E8               M                 RLNCF   WREG,F
0002B8 6E61               M                 MOVWF   RXB0SIDH
                      00089 
0002BA EE00 F00C      00090                 LFSR    FSR0,CANID
0002BE D82C           00091                 RCALL   ASC2BIN             ; GETC, GETC
                      00092 
0002C0 500C           00093                 MOVF    CANID,W
                      00094                 TXEXT_23_21                 ; Set EID23..21
0002C2 0BE0               M                 ANDLW   b'11100000'
0002C4 46E8               M                 RLNCF   WREG,F
0002C6 46E8               M                 RLNCF   WREG,F
0002C8 46E8               M                 RLNCF   WREG,F
0002CA 1261               M                 IORWF   RXB0SIDH,F
                      00095 
0002CC 500C           00096                 MOVF    CANID,W
                      00097                 TXEXT_20_18                 ; Set EID20..18
0002CE 0B1C               M                 ANDLW   b'00011100'
0002D0 46E8               M                 RLNCF   WREG,F
0002D2 46E8               M                 RLNCF   WREG,F
0002D4 46E8               M                 RLNCF   WREG,F
0002D6 6E62               M                 MOVWF   RXB0SIDL
                      00098 
0002D8 500C           00099                 MOVF    CANID,W
                      00100                 TXEXT_17_16                 ; Set EID17..16
0002DA 0B03               M                 ANDLW   b'00000011'
0002DC 1262               M                 IORWF   RXB0SIDL,F
                      00101 
0002DE 8662           00102                 BSF     RXB0SIDL,EXIDEN     ; Enable Extended Id
                      00103 
0002E0 EE0F F063      00104                 LFSR    FSR0,RXB0EIDH       ; Set EID15..8
0002E4 D819           00105                 RCALL   ASC2BIN             ; GETC, GETC
                      00106 
0002E6 EE0F F064      00107                 LFSR    FSR0,RXB0EIDL       ; Set EID7..0
0002EA D816           00108                 RCALL   ASC2BIN             ; GETC, GETC
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 31


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00109 
                      00110 ;------------------------------------------------------------------------------
0002EC                00111 TXCAN3
0002EC 6A65           00112                 CLRF    RXB0DLC             ; Set RTR
0002EE B20B           00113                 BTFSC   CANCMD,1            ; r or R?
0002F0 8C65           00114                 BSF     RXB0DLC,TXRTR
                      00115 
0002F2 D818           00116                 RCALL   ASC2NIB             ; GETC
0002F4 E007           00117                 BZ      TXCAN5
0002F6 6E0D           00118                 MOVWF   CANCNT
0002F8 1265           00119                 IORWF   RXB0DLC,F           ; Set DLC
                      00120 
                      00121 ;------------------------------------------------------------------------------
                      00122 
0002FA EE0F F066      00123                 LFSR    FSR0,RXB0D0
0002FE                00124 TXCAN4
0002FE D80C           00125                 RCALL   ASC2BIN             ; Set data
                      00126                 DJNZ    CANCNT,TXCAN4
000300 2E0D               M                 DECFSZ  CANCNT,F
000302 D7FD               M                 BRA     TXCAN4
                      00127 
                      00128 ;------------------------------------------------------------------------------
000304                00129 TXCAN5
000304 8660           00130                 BSF     RXB0CON,TXREQ       ; Tx
                      00131 
                      00132 ;------------------------------------------------------------------------------
000306                00133 TXCANEND
                      00134                 GETC                        ; W = <RXBUF>,RXGET++
000306 5003               M                 MOVF    RXGET,W
000308 50E3               M                 MOVF    PLUSW1,W
00030A 2A03               M                 INCF    RXGET,F             ; RXGET++
00030C 0A0D           00135                 XORLW   EOLNCHAR
00030E E1FB           00136                 BNZ     TXCANEND
                      00137 
000310 0606           00138                 DECF    RXCNT,F             ; Rx packet counter--
000312 E101           00139                 BNZ     TXCANRET            ; Flow control off?
                      00140 
                      00141                 ; Clear to Send; RXCNT = 0
                      00142                 RTSCLR
000314 988A               M                 BCF     LATB,4              ; RTS/CTS CLEAR TO SEND
000316                00143 TXCANRET
000316 0012           00144                 RETURN
                      00145 
                      00146 ;------------------------------------------------------------------------------
                      00147 ;
                      00148 ; vim: shiftwidth=4 tabstop=4 softtabstop=4 expandtab
                      00149 ;
                      00178 
                      00179 ;------------------------------------------------------------------------------
                      00180 ;
                      00181 ; vim: shiftwidth=4 tabstop=4 softtabstop=4 expandtab
                      00182 ;
                      00129 #INCLUDE        "ascii.inc"                 ; ASCII I/O
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 32


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00001 ;------------------------------------------------------------------------------
                      00002 ;
                      00003 ; Can-Can ASCII I/O
                      00004 ;
                      00005 ; Copyright (c) 2014 Darron M Broad
                      00006 ;
                      00007 ;------------------------------------------------------------------------------
                      00008 ;
                      00009 ; This file is part of the Can-Can CAN bus interface project.
                      00010 ;
                      00011 ; Can-Can is licensed under the CC BY-NC-SA 4.0.
                      00012 ;
                      00013 ; See file /LICENSE for details.
                      00014 ; 
                      00015 ;------------------------------------------------------------------------------
                      00016 
                      00017                 LIST
                      00018                 RADIX   DEC
                      00019 
                      00020 ;------------------------------------------------------------------------------
                      00021 ; ASCII I/O variables
                      00022 ;------------------------------------------------------------------------------
                      00023 
                      00024                 CBLOCK
  0000000E            00025                 ASCTEMP : 1
                      00026                 ENDC
                      00027 
                      00028 ;------------------------------------------------------------------------------
                      00029 ; Convert ASCII Hex Byte or Nibble in <RXBUF> to Binary, Store In <FSR0> or W
                      00030 ;
                      00031 ; Nibble: RXGET += 1
                      00032 ; Byte  : RXGET += 2, FSR0 += 1
                      00033 ;------------------------------------------------------------------------------
000318                00034 ASC2BIN
000318 D805           00035                 RCALL   ASC2NIB
00031A 6EEF           00036                 MOVWF   INDF0
00031C 3AEF           00037                 SWAPF   INDF0,F
00031E D802           00038                 RCALL   ASC2NIB
000320 12EE           00039                 IORWF   POSTINC0,F
000322 0012           00040                 RETURN               
000324                00041 ASC2NIB
                      00042                 GETC                        ; W = <RXBUF>,RXGET++
000324 5003               M                 MOVF    RXGET,W
000326 50E3               M                 MOVF    PLUSW1,W
000328 2A03               M                 INCF    RXGET,F             ; RXGET++
00032A 6E0E           00043                 MOVWF   ASCTEMP
00032C 0B0F           00044                 ANDLW   0x0F
00032E AC0E           00045                 BTFSS   ASCTEMP,6
000330 0012           00046                 RETURN
000332 0F09           00047                 ADDLW   9
000334 0012           00048                 RETURN
                      00049 
                      00050 ;------------------------------------------------------------------------------
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 33


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00051 ; Convert Binary in W to ASCII Hex Nibble or Byte, Store in <TXBUF>
                      00052 ;
                      00053 ; Nibble: TXPUT += 1
                      00054 ; Byte  : TXPUT += 2
                      00055 ;------------------------------------------------------------------------------
000336                00056 BIN2ASC
000336 6E0E           00057                 MOVWF   ASCTEMP
000338 380E           00058                 SWAPF   ASCTEMP,W
00033A D801           00059                 RCALL   NIB2ASC
00033C 500E           00060                 MOVF    ASCTEMP,W
00033E                00061 NIB2ASC
00033E 0B0F           00062                 ANDLW   0x0F
000340 0F06           00063                 ADDLW   6
000342 B2D8           00064                 BTFSC   STATUS,DC
000344 0F07           00065                 ADDLW   7
000346 0F2A           00066                 ADDLW   42
                      00067                 PUTC                        ; <TXBUF> = W,TXPUT++
000348 6E09               M                 MOVWF   TXTEMP
00034A 5008               M                 MOVF    TXPUT,W
00034C C009 FFDB          M                 MOVFF   TXTEMP,PLUSW2
000350 2A08               M                 INCF    TXPUT,F             ; TXPUT++
000352 0012           00068                 RETURN
                      00069 
                      00070 ;------------------------------------------------------------------------------
                      00071 ;
                      00072 ; vim: shiftwidth=4 tabstop=4 softtabstop=4 expandtab
                      00073 ;
                      00130 #INCLUDE        "timer.inc"                 ; Timer
                      00001 
                      00002 ;
                      00003 ; Can-Can TIMER
                      00004 ;
                      00005 ; Copyright (c) 2015 Gerhard Bertelsmann
                      00006 ;
                      00007 ;------------------------------------------------------------------------------
                      00008 ;
                      00009 ; This file is part of the Can-Can CAN bus interface project.
                      00010 ;
                      00011 ; Can-Can is licensed under the CC BY-NC-SA 4.0.
                      00012 ;
                      00013 ; See file /LICENSE for details.
                      00014 ; 
                      00015 ;------------------------------------------------------------------------------
                      00016 
                      00017                 LIST
                      00018                 RADIX   DEC
                      00019 
                      00020 ;------------------------------------------------------------------------------
                      00021 ; Timer variables
                      00022 ;------------------------------------------------------------------------------
                      00023 
                      00024                 CBLOCK
  0000000F            00025                 TCOUNTER : 1
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 34


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

  00000010            00026                 HEARTBEAT : 1
                      00027                 ENDC
                      00028 
                      00029 ;------------------------------------------------------------------------------
                      00030 ; Timer settings
                      00031 ;------------------------------------------------------------------------------
                      00032 
                      00033 ;------------------------------------------------------------------------------
                      00034 ; Init. Timer
                      00035 ;------------------------------------------------------------------------------
000354                00036 TIMERINIT
                      00037                 ; timer period = 1/16MHz = 0.0625 us
                      00038                 ; prescaler period = .0625us * 32 = 2 us
                      00039                 ; overflow period  = 2 us * 256 = 512 us
                      00040                 
000354 0EC4           00041                 MOVLW   (1 << TMR0ON) + (1 << T08BIT) + (1 << T0PS2)
000356 6ED5           00042                 MOVWF   T0CON
000358 0012           00043                 RETURN
                      00044 
00035A                00045 SCHEDULE
                      00046                 ; must reset Timer1 overflow flag
00035A 94F2           00047                 BCF     INTCON, TMR0IF
00035C 3E0F           00048                 INCFSZ  TCOUNTER,F
00035E 0012           00049                 RETURN
                      00050 
                      00051                 ; 512 us * 256 = 131 ms
                      00052                 ; limit to 8 * 131 ms = 1.049 s
000360 2A10           00053                 INCF    HEARTBEAT,F
000362 0E07           00054                 MOVLW   7
000364 1610           00055                 ANDWF   HEARTBEAT,F
                      00056                 ; doing heartbeat - sequence starts on 1 to enable resetting HEARTBEAT var
                      00057                 ; for other blinking events
000366 0E00           00058                 MOVLW   0
000368 6410           00059                 CPFSGT  HEARTBEAT
00036A EFC6 F001      00060                 GOTO    STATUS_LED_ON
00036E 0E01           00061                 MOVLW   1
000370 6410           00062                 CPFSGT  HEARTBEAT
000372 EFC4 F001      00063                 GOTO    STATUS_LED_OFF
000376 0E02           00064                 MOVLW   2
000378 6410           00065                 CPFSGT  HEARTBEAT
00037A EFC6 F001      00066                 GOTO    STATUS_LED_ON
00037E 0E03           00067                 MOVLW   3
000380 6410           00068                 CPFSGT  HEARTBEAT
000382 EFC4 F001      00069                 GOTO    STATUS_LED_OFF
                      00070 
000386 0012           00071                 RETURN
                      00072 
000388                00073 STATUS_LED_OFF
000388 848B           00074                 BSF     LATC, 2
00038A 0012           00075                 RETURN
                      00076 
00038C                00077 STATUS_LED_ON
00038C 948B           00078                 BCF     LATC, 2
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 35


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

00038E 0012           00079                 RETURN
                      00080 
                      00081 
                      00082 ;
                      00083 ; vim: shiftwidth=4 tabstop=4 softtabstop=4 expandtab
                      00084 ;
                      00131 #INCLUDE        "i2c.inc"                   ; I2C
                      00001 ;------------------------------------------------------------------------------
                      00002 ;
                      00003 ; Can-Can I2C
                      00004 ;
                      00005 ; Copyright (c) 2015 Gerhard Bertelsmann
                      00006 ;
                      00007 ;------------------------------------------------------------------------------
                      00008 ;
                      00009 ; This file is part of the Can-Can CAN bus interface project.
                      00010 ;
                      00011 ; Can-Can is licensed under the CC BY-NC-SA 4.0.
                      00012 ;
                      00013 ; See file /LICENSE for details.
                      00014 ; 
                      00015 ;------------------------------------------------------------------------------
                      00016 
                      00017                 LIST
                      00018                 RADIX   DEC
                      00019 
                      00020 ;------------------------------------------------------------------------------
                      00021 ; I2C settings
                      00022 ;------------------------------------------------------------------------------
                      00023 
                      00024 #DEFINE I2CBAUD ((((CLOCK / I2CRATE) / 2) - 1) / 2)
                      00025 
                      00026 ;------------------------------------------------------------------------------
                      00027 ; Init. I2C
                      00028 ;------------------------------------------------------------------------------
000390                00029 I2CINIT
                      00030                 ; clear the upper two bits
000390 0E3F           00031                 MOVLW   0x3F
000392 16C7           00032                 ANDWF   SSPSTAT,F
                      00033                 ; set I2C rate
000394 0E27           00034                 MOVLW   I2CBAUD
000396 6EC8           00035                 MOVWF   SSPADD
000398 6AC6           00036                 CLRF    SSPCON1
00039A 6AC5           00037                 CLRF    SSPCON2
00039C 9EC7           00038                 BCF     SSPSTAT,SMP
00039E 8CC7           00039                 BSF     SSPSTAT,CKE
                      00040                 ; configure SCL and SDL as input
0003A0 8694           00041                 BSF     TRISC,3
0003A2 8894           00042                 BSF     TRISC,4
                      00043                 ; master mode
0003A4 0E28           00044                 MOVLW   (1 << SSPEN) + (1 << SSPM3)
0003A6 12C6           00045                 IORWF   SSPCON1,F
0003A8 0012           00046                 RETURN
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 36


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00047 
                      00048 ;
                      00049 ; vim: shiftwidth=4 tabstop=4 softtabstop=4 expandtab
                      00050 ;
                      00132 #INCLUDE        "pio.inc"                   ; I2C
                      00001 ;------------------------------------------------------------------------------
                      00002 ;
                      00003 ; CANBuster PIO
                      00004 ;
                      00005 ; Copyright (c) 2016 Gerhard Bertelsmann
                      00006 ;
                      00007 ;------------------------------------------------------------------------------
                      00008 ;
                      00009 ; This file is part of the CANBuster project.
                      00010 ;
                      00011 ; CANBuster is licensed under the CC BY-NC-SA 4.0.
                      00012 ;
                      00013 ; See file /LICENSE for details.
                      00014 ; 
                      00015 ;------------------------------------------------------------------------------
                      00016 
                      00017                 LIST
                      00018                 RADIX   DEC
                      00019 
                      00020 ;------------------------------------------------------------------------------
                      00021 ; PIO variables
                      00022 ;------------------------------------------------------------------------------
                      00023 
                      00024                 CBLOCK
  00000011            00025                 PIOTIME : 16
  00000021            00026                 PIOTEMP : 1
  00000022            00027                 BUT_VAL_NEW: 1
  00000023            00028                 BUT_VAL_OLD: 1
  00000024            00029                 TOP_VAL_NEW: 1
  00000025            00030                 TOP_VAL_OLD: 1
  00000026            00031                 HASH_LOW : 1
  00000027            00032                 HASH_HIGH : 1
                      00033                 ENDC
                      00034 
                      00035 ;------------------------------------------------------------------------------
                      00036 ; Init. PIO
                      00037 ;------------------------------------------------------------------------------
0003AA                00038 PIOINIT
                      00039                 ; set ports as inputs
                      00040 
                      00041                 ; RA0-3, RA5
0003AA 5092           00042                 MOVF    TRISA,W
0003AC 092F           00043                 IORLW   b'00101111'
0003AE 6E92           00044                 MOVWF   TRISA
                      00045 
                      00046                 ; RB0, RB1
0003B0 8093           00047                 BSF     TRISB,0
0003B2 8293           00048                 BSF     TRISB,1
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 37


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00049 
                      00050 #IFDEF PIO
                      00051                 ; RDO-5
0003B4 5095           00052                 MOVF    TRISD,W
0003B6 093F           00053                 IORLW   b'00111111'
0003B8 6E95           00054                 MOVWF   TRISD
                      00055 
                      00056                 ; RE0-2
0003BA 8096           00057                 BSF     TRISE,0
0003BC 8296           00058                 BSF     TRISE,1
0003BE 8496           00059                 BSF     TRISE,2
                      00060 #ENDIF
                      00061                 ; clear vars
0003C0 6A22           00062                 CLRF    BUT_VAL_NEW
0003C2 6A23           00063                 CLRF    BUT_VAL_OLD
0003C4 6A24           00064                 CLRF    TOP_VAL_NEW
0003C6 6A25           00065                 CLRF    TOP_VAL_OLD
                      00066 
                      00067                 ; delete timers
0003C8 0E10           00068                 MOVLW   16
0003CA 6E21           00069                 MOVWF   PIOTEMP
0003CC 6AE8           00070                 CLRW
0003CE EE00 F011      00071                 LFSR    FSR0,PIOTIME
0003D2                00072 PTIMECLLOOP
0003D2 16EE           00073                 ANDWF   POSTINC0,F
0003D4 2E21           00074                 DECFSZ  PIOTEMP,1
0003D6 E1FD           00075                 BNZ     PTIMECLLOOP
                      00076 
0003D8 0012           00077                 RETURN
                      00078 
                      00079 ;------------------------------------------------------------------------------
                      00080 ; get status
                      00081 ;------------------------------------------------------------------------------
0003DA                00082 PIOGET
                      00083                 ; RA5 is IO5
0003DA 5080           00084                 MOVF    PORTA,W
0003DC 0B20           00085                 ANDLW   b'00100000'
0003DE 42E8           00086                 RRNCF   WREG,F
0003E0 6E22           00087                 MOVWF   BUT_VAL_NEW
                      00088                 ; RA0-RA3 are IO1-4
0003E2 5080           00089                 MOVF    PORTA,W
0003E4 0B0F           00090                 ANDLW   b'00001111'
0003E6 1222           00091                 IORWF   BUT_VAL_NEW,F
                      00092                 ; RE0-2 are IO6-8
0003E8 3884           00093                 SWAPF   PORTE,W
0003EA 0B70           00094                 ANDLW   b'01110000'
0003EC 46E8           00095                 RLNCF   WREG,F
0003EE 1222           00096                 IORWF   BUT_VAL_NEW,F
                      00097 
                      00098                 ; RD0-5 are IO9-14
0003F0 5083           00099                 MOVF    PORTD,W
0003F2 0B3F           00100                 ANDLW   b'00111111'
0003F4 6E24           00101                 MOVWF   TOP_VAL_NEW
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 38


LOC    OBJECT CODE    LINE  SOURCE TEXT
  VALUE

                      00102                 ; RB0-1 are IO15-16
0003F6 3881           00103                 SWAPF   PORTB,W
0003F8 0B30           00104                 ANDLW   b'00110000'
0003FA 46E8           00105                 RLNCF   WREG,F
0003FC 46E8           00106                 RLNCF   WREG,F
0003FE 1224           00107                 IORWF   TOP_VAL_NEW,F
                      00108 
000400 0012           00109                 RETURN
                      00110 ;
                      00111 ; vim: shiftwidth=4 tabstop=4 softtabstop=4 expandtab
                      00112 ;
                      00133 
                      00134 ;------------------------------------------------------------------------------
                      00135 ;
                      00136 ; vim: shiftwidth=4 tabstop=4 softtabstop=4 expandtab
                      00137 ;
                      00075 
                      00076 ;------------------------------------------------------------------------------
000402                00077 THE
                      00078                 END
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 39


SYMBOL TABLE
  LABEL                             VALUE

A                                 00000000
ABAT                              00000004
ABDEN                             00000000
ABDOVF                            00000007
ACCESS                            00000000
ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ACQT0                             00000003
ACQT1                             00000004
ACQT2                             00000005
ADCMD                             00000005
ADCON0                            00000FC2
ADCON1                            00000FC1
ADCON2                            00000FC0
ADCS0                             00000000
ADCS1                             00000001
ADCS2                             00000002
ADDEN                             00000003
ADDEN1                            00000003
ADDEN2                            00000003
ADEN                              00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADIP                              00000006
ADMSK1                            00000001
ADMSK2                            00000002
ADMSK3                            00000003
ADMSK4                            00000004
ADMSK5                            00000005
ADON                              00000000
ADRES                             00000FC3
ADRESH                            00000FC4
ADRESL                            00000FC3
ANCON0                            00000F5D
ANCON1                            00000F5C
ANSEL0                            00000000
ANSEL1                            00000001
ANSEL10                           00000002
ANSEL11                           00000003
ANSEL12                           00000004
ANSEL13                           00000005
ANSEL14                           00000006
ANSEL2                            00000002
ANSEL3                            00000003
ANSEL4                            00000004
ANSEL5                            00000005
ANSEL6                            00000006
ANSEL7                            00000007
ANSEL8                            00000000
ANSEL9                            00000001
ASC2BIN                           00000318
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 40


SYMBOL TABLE
  LABEL                             VALUE 

ASC2NIB                           00000324
ASCTEMP                           0000000E
B0CON                             00000E80
B0D0                              00000E86
B0D00                             00000000
B0D01                             00000001
B0D02                             00000002
B0D03                             00000003
B0D04                             00000004
B0D05                             00000005
B0D06                             00000006
B0D07                             00000007
B0D1                              00000E87
B0D10                             00000000
B0D11                             00000001
B0D12                             00000002
B0D13                             00000003
B0D14                             00000004
B0D15                             00000005
B0D16                             00000006
B0D17                             00000007
B0D2                              00000E88
B0D20                             00000000
B0D21                             00000001
B0D22                             00000002
B0D23                             00000003
B0D24                             00000004
B0D25                             00000005
B0D26                             00000006
B0D27                             00000007
B0D3                              00000E89
B0D30                             00000000
B0D31                             00000001
B0D32                             00000002
B0D33                             00000003
B0D34                             00000004
B0D35                             00000005
B0D36                             00000006
B0D37                             00000007
B0D4                              00000E8A
B0D40                             00000000
B0D41                             00000001
B0D42                             00000002
B0D43                             00000003
B0D44                             00000004
B0D45                             00000005
B0D46                             00000006
B0D47                             00000007
B0D5                              00000E8B
B0D50                             00000000
B0D51                             00000001
B0D52                             00000002
B0D53                             00000003
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 41


SYMBOL TABLE
  LABEL                             VALUE 

B0D54                             00000004
B0D55                             00000005
B0D56                             00000006
B0D57                             00000007
B0D6                              00000E8C
B0D60                             00000000
B0D61                             00000001
B0D62                             00000002
B0D63                             00000003
B0D64                             00000004
B0D65                             00000005
B0D66                             00000006
B0D67                             00000007
B0D7                              00000E8D
B0D70                             00000000
B0D71                             00000001
B0D72                             00000002
B0D73                             00000003
B0D74                             00000004
B0D75                             00000005
B0D76                             00000006
B0D77                             00000007
B0DLC                             00000E85
B0EIDH                            00000E83
B0EIDL                            00000E84
B0IE                              00000002
B0SIDH                            00000E81
B0SIDL                            00000E82
B0TXEN                            00000002
B1CON                             00000E90
B1D0                              00000E96
B1D00                             00000000
B1D01                             00000001
B1D02                             00000002
B1D03                             00000003
B1D04                             00000004
B1D05                             00000005
B1D06                             00000006
B1D07                             00000007
B1D1                              00000E97
B1D10                             00000000
B1D11                             00000001
B1D12                             00000002
B1D13                             00000003
B1D14                             00000004
B1D15                             00000005
B1D16                             00000006
B1D17                             00000007
B1D2                              00000E98
B1D20                             00000000
B1D21                             00000001
B1D22                             00000002
B1D23                             00000003
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 42


SYMBOL TABLE
  LABEL                             VALUE 

B1D24                             00000004
B1D25                             00000005
B1D26                             00000006
B1D27                             00000007
B1D3                              00000E99
B1D30                             00000000
B1D31                             00000001
B1D32                             00000002
B1D33                             00000003
B1D34                             00000004
B1D35                             00000005
B1D36                             00000006
B1D37                             00000007
B1D4                              00000E9A
B1D40                             00000000
B1D41                             00000001
B1D42                             00000002
B1D43                             00000003
B1D44                             00000004
B1D45                             00000005
B1D46                             00000006
B1D47                             00000007
B1D5                              00000E9B
B1D50                             00000000
B1D51                             00000001
B1D52                             00000002
B1D53                             00000003
B1D54                             00000004
B1D55                             00000005
B1D56                             00000006
B1D57                             00000007
B1D6                              00000E9C
B1D60                             00000000
B1D61                             00000001
B1D62                             00000002
B1D63                             00000003
B1D64                             00000004
B1D65                             00000005
B1D66                             00000006
B1D67                             00000007
B1D7                              00000E9D
B1D70                             00000000
B1D71                             00000001
B1D72                             00000002
B1D73                             00000003
B1D74                             00000004
B1D75                             00000005
B1D76                             00000006
B1D77                             00000007
B1DLC                             00000E95
B1EIDH                            00000E93
B1EIDL                            00000E94
B1IE                              00000003
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 43


SYMBOL TABLE
  LABEL                             VALUE 

B1SIDH                            00000E91
B1SIDL                            00000E92
B1TXEN                            00000003
B2CON                             00000EA0
B2D0                              00000EA6
B2D00                             00000000
B2D01                             00000001
B2D02                             00000002
B2D03                             00000003
B2D04                             00000004
B2D05                             00000005
B2D06                             00000006
B2D07                             00000007
B2D1                              00000EA7
B2D10                             00000000
B2D11                             00000001
B2D12                             00000002
B2D13                             00000003
B2D14                             00000004
B2D15                             00000005
B2D16                             00000006
B2D17                             00000007
B2D2                              00000EA8
B2D20                             00000000
B2D21                             00000001
B2D22                             00000002
B2D23                             00000003
B2D24                             00000004
B2D25                             00000005
B2D26                             00000006
B2D27                             00000007
B2D3                              00000EA9
B2D30                             00000000
B2D31                             00000001
B2D32                             00000002
B2D33                             00000003
B2D34                             00000004
B2D35                             00000005
B2D36                             00000006
B2D37                             00000007
B2D4                              00000EAA
B2D40                             00000000
B2D41                             00000001
B2D42                             00000002
B2D43                             00000003
B2D44                             00000004
B2D45                             00000005
B2D46                             00000006
B2D47                             00000007
B2D5                              00000EAB
B2D50                             00000000
B2D51                             00000001
B2D52                             00000002
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 44


SYMBOL TABLE
  LABEL                             VALUE 

B2D53                             00000003
B2D54                             00000004
B2D55                             00000005
B2D56                             00000006
B2D57                             00000007
B2D6                              00000EAC
B2D60                             00000000
B2D61                             00000001
B2D62                             00000002
B2D63                             00000003
B2D64                             00000004
B2D65                             00000005
B2D66                             00000006
B2D67                             00000007
B2D7                              00000EAD
B2D70                             00000000
B2D71                             00000001
B2D72                             00000002
B2D73                             00000003
B2D74                             00000004
B2D75                             00000005
B2D76                             00000006
B2D77                             00000007
B2DLC                             00000EA5
B2EIDH                            00000EA3
B2EIDL                            00000EA4
B2IE                              00000004
B2SIDH                            00000EA1
B2SIDL                            00000EA2
B2TXEN                            00000004
B3CON                             00000EB0
B3D0                              00000EB6
B3D00                             00000000
B3D01                             00000001
B3D02                             00000002
B3D03                             00000003
B3D04                             00000004
B3D05                             00000005
B3D06                             00000006
B3D07                             00000007
B3D1                              00000EB7
B3D10                             00000000
B3D11                             00000001
B3D12                             00000002
B3D13                             00000003
B3D14                             00000004
B3D15                             00000005
B3D16                             00000006
B3D17                             00000007
B3D2                              00000EB8
B3D20                             00000000
B3D21                             00000001
B3D22                             00000002
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 45


SYMBOL TABLE
  LABEL                             VALUE 

B3D23                             00000003
B3D24                             00000004
B3D25                             00000005
B3D26                             00000006
B3D27                             00000007
B3D3                              00000EB9
B3D30                             00000000
B3D31                             00000001
B3D32                             00000002
B3D33                             00000003
B3D34                             00000004
B3D35                             00000005
B3D36                             00000006
B3D37                             00000007
B3D4                              00000EBA
B3D40                             00000000
B3D41                             00000001
B3D42                             00000002
B3D43                             00000003
B3D44                             00000004
B3D45                             00000005
B3D46                             00000006
B3D47                             00000007
B3D5                              00000EBB
B3D50                             00000000
B3D51                             00000001
B3D52                             00000002
B3D53                             00000003
B3D54                             00000004
B3D55                             00000005
B3D56                             00000006
B3D57                             00000007
B3D6                              00000EBC
B3D60                             00000000
B3D61                             00000001
B3D62                             00000002
B3D63                             00000003
B3D64                             00000004
B3D65                             00000005
B3D66                             00000006
B3D67                             00000007
B3D7                              00000EBD
B3D70                             00000000
B3D71                             00000001
B3D72                             00000002
B3D73                             00000003
B3D74                             00000004
B3D75                             00000005
B3D76                             00000006
B3D77                             00000007
B3DLC                             00000EB5
B3EIDH                            00000EB3
B3EIDL                            00000EB4
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 46


SYMBOL TABLE
  LABEL                             VALUE 

B3IE                              00000005
B3SIDH                            00000EB1
B3SIDL                            00000EB2
B3TXEN                            00000005
B4CON                             00000EC0
B4D0                              00000EC6
B4D00                             00000000
B4D01                             00000001
B4D02                             00000002
B4D03                             00000003
B4D04                             00000004
B4D05                             00000005
B4D06                             00000006
B4D07                             00000007
B4D1                              00000EC7
B4D10                             00000000
B4D11                             00000001
B4D12                             00000002
B4D13                             00000003
B4D14                             00000004
B4D15                             00000005
B4D16                             00000006
B4D17                             00000007
B4D2                              00000EC8
B4D20                             00000000
B4D21                             00000001
B4D22                             00000002
B4D23                             00000003
B4D24                             00000004
B4D25                             00000005
B4D26                             00000006
B4D27                             00000007
B4D3                              00000EC9
B4D30                             00000000
B4D31                             00000001
B4D32                             00000002
B4D33                             00000003
B4D34                             00000004
B4D35                             00000005
B4D36                             00000006
B4D37                             00000007
B4D4                              00000ECA
B4D40                             00000000
B4D41                             00000001
B4D42                             00000002
B4D43                             00000003
B4D44                             00000004
B4D45                             00000005
B4D46                             00000006
B4D47                             00000007
B4D5                              00000ECB
B4D50                             00000000
B4D51                             00000001
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 47


SYMBOL TABLE
  LABEL                             VALUE 

B4D52                             00000002
B4D53                             00000003
B4D54                             00000004
B4D55                             00000005
B4D56                             00000006
B4D57                             00000007
B4D6                              00000ECC
B4D60                             00000000
B4D61                             00000001
B4D62                             00000002
B4D63                             00000003
B4D64                             00000004
B4D65                             00000005
B4D66                             00000006
B4D67                             00000007
B4D7                              00000ECD
B4D70                             00000000
B4D71                             00000001
B4D72                             00000002
B4D73                             00000003
B4D74                             00000004
B4D75                             00000005
B4D76                             00000006
B4D77                             00000007
B4DLC                             00000EC5
B4EIDH                            00000EC3
B4EIDL                            00000EC4
B4IE                              00000006
B4SIDH                            00000EC1
B4SIDL                            00000EC2
B4TXEN                            00000006
B5CON                             00000ED0
B5D0                              00000ED6
B5D00                             00000000
B5D01                             00000001
B5D02                             00000002
B5D03                             00000003
B5D04                             00000004
B5D05                             00000005
B5D06                             00000006
B5D07                             00000007
B5D1                              00000ED7
B5D10                             00000000
B5D11                             00000001
B5D12                             00000002
B5D13                             00000003
B5D14                             00000004
B5D15                             00000005
B5D16                             00000006
B5D17                             00000007
B5D2                              00000ED8
B5D20                             00000000
B5D21                             00000001
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 48


SYMBOL TABLE
  LABEL                             VALUE 

B5D22                             00000002
B5D23                             00000003
B5D24                             00000004
B5D25                             00000005
B5D26                             00000006
B5D27                             00000007
B5D3                              00000ED9
B5D30                             00000000
B5D31                             00000001
B5D32                             00000002
B5D33                             00000003
B5D34                             00000004
B5D35                             00000005
B5D36                             00000006
B5D37                             00000007
B5D4                              00000EDA
B5D40                             00000000
B5D41                             00000001
B5D42                             00000002
B5D43                             00000003
B5D44                             00000004
B5D45                             00000005
B5D46                             00000006
B5D47                             00000007
B5D5                              00000EDB
B5D50                             00000000
B5D51                             00000001
B5D52                             00000002
B5D53                             00000003
B5D54                             00000004
B5D55                             00000005
B5D56                             00000006
B5D57                             00000007
B5D6                              00000EDC
B5D60                             00000000
B5D61                             00000001
B5D62                             00000002
B5D63                             00000003
B5D64                             00000004
B5D65                             00000005
B5D66                             00000006
B5D67                             00000007
B5D7                              00000EDD
B5D70                             00000000
B5D71                             00000001
B5D72                             00000002
B5D73                             00000003
B5D74                             00000004
B5D75                             00000005
B5D76                             00000006
B5D77                             00000007
B5DLC                             00000ED5
B5EIDH                            00000ED3
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 49


SYMBOL TABLE
  LABEL                             VALUE 

B5EIDL                            00000ED4
B5IE                              00000007
B5SIDH                            00000ED1
B5SIDL                            00000ED2
B5TXEN                            00000007
BANKED                            00000001
BAUDCON1                          00000FA7
BAUDCON2                          00000FB9
BAUDRATE                          500000
BCLIE                             00000003
BCLIF                             00000003
BCLIP                             00000003
BF                                00000000
BGVST                             00000006
BIE0                              00000E7E
BIN2ASC                           00000336
BOR                               00000000
BRG1                              0x07
BRG16                             00000003
BRG2                              0xBC
BRG3                              0x01
BRGCON1                           00000E43
BRGCON2                           00000E44
BRGCON3                           00000E45
BRGH                              00000002
BRGH1                             00000002
BRGH2                             00000002
BRP0                              00000000
BRP1                              00000001
BRP2                              00000002
BRP3                              00000003
BRP4                              00000004
BRP5                              00000005
BSEL0                             00000E7D
BSR                               00000FE0
BUT_VAL_NEW                       00000022
BUT_VAL_OLD                       00000023
B_SAVE                            00000000
C                                 00000000
C1TSEL                            00000000
C2TSEL                            00000001
C3TSEL                            00000002
C4TSEL                            00000003
C5TSEL                            00000004
CAN                               PORTB
CANCAP                            00000004
CANCMD                            0000000B
CANCNT                            0000000D
CANCON                            00000F6F
CANCON_RO0                        00000F3F
CANCON_RO1                        00000F2F
CANCON_RO2                        00000F1F
CANCON_RO3                        00000F0F
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 50


SYMBOL TABLE
  LABEL                             VALUE 

CANCON_RO4                        00000EDF
CANCON_RO5                        00000ECF
CANCON_RO6                        00000EBF
CANCON_RO7                        00000EAF
CANCON_RO8                        00000E9F
CANCON_RO9                        00000E8F
CANID                             0000000C
CANOVFL                           
CANRATE                           250
CANRECV                           
CANSTAT                           00000F6E
CANSTAT_RO0                       00000F3E
CANSTAT_RO1                       00000F2E
CANSTAT_RO2                       00000F1E
CANSTAT_RO3                       00000F0E
CANSTAT_RO4                       00000EDE
CANSTAT_RO5                       00000ECE
CANSTAT_RO6                       00000EBE
CANSTAT_RO7                       00000EAE
CANSTAT_RO8                       00000E9E
CANSTAT_RO9                       00000E8E
CAN_WIN_OFF                       0x00
CAN_WIN_RXB0                      0x0C
CAN_WIN_RXB1                      0x0A
CAN_WIN_TXB0                      0x08
CAN_WIN_TXB1                      0x06
CAN_WIN_TXB2                      0x04
CCH0                              00000000
CCH1                              00000001
CCP1CON                           00000FBB
CCP1IE                            00000001
CCP1IF                            00000001
CCP1IP                            00000001
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1MD                            00000003
CCP1OD                            00000002
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           00000F50
CCP2IE                            00000002
CCP2IF                            00000002
CCP2IP                            00000002
CCP2M0                            00000000
CCP2M1                            00000001
CCP2M2                            00000002
CCP2M3                            00000003
CCP2MD                            00000004
CCP2OD                            00000003
CCP2X                             00000005
CCP2Y                             00000004
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 51


SYMBOL TABLE
  LABEL                             VALUE 

CCP3CON                           00000F4D
CCP3IE                            00000000
CCP3IF                            00000000
CCP3IP                            00000000
CCP3M0                            00000000
CCP3M1                            00000001
CCP3M2                            00000002
CCP3M3                            00000003
CCP3MD                            00000005
CCP3OD                            00000004
CCP3X                             00000005
CCP3Y                             00000004
CCP4CON                           00000F4A
CCP4IE                            00000001
CCP4IF                            00000001
CCP4IP                            00000001
CCP4M0                            00000000
CCP4M1                            00000001
CCP4M2                            00000002
CCP4M3                            00000003
CCP4MD                            00000006
CCP4OD                            00000005
CCP4X                             00000005
CCP4Y                             00000004
CCP5CON                           00000F47
CCP5IE                            00000002
CCP5IF                            00000002
CCP5IP                            00000002
CCP5M0                            00000000
CCP5M1                            00000001
CCP5M2                            00000002
CCP5M3                            00000003
CCP5MD                            00000007
CCP5OD                            00000006
CCP5X                             00000005
CCP5Y                             00000004
CCPR1                             00000FBC
CCPR1H                            00000FBD
CCPR1L                            00000FBC
CCPR2                             00000F51
CCPR2H                            00000F52
CCPR2L                            00000F51
CCPR3                             00000F4E
CCPR3H                            00000F4F
CCPR3L                            00000F4E
CCPR4                             00000F4B
CCPR4H                            00000F4C
CCPR4L                            00000F4B
CCPR5                             00000F48
CCPR5H                            00000F49
CCPR5L                            00000F48
CCPTMRS                           00000F99
CFGS                              00000006
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 52


SYMBOL TABLE
  LABEL                             VALUE 

CHS0                              00000002
CHS1                              00000003
CHS2                              00000004
CHS3                              00000005
CHS4                              00000006
CHSN0                             00000000
CHSN1                             00000001
CHSN2                             00000002
CIOCON                            00000F70
CKE                               00000006
CKP                               00000004
CLKSEL                            00000000
CLOCK                             64000000
CLOSECMD                          'C'
CM                                00000005
CM1CON                            00000F5F
CM1CON1                           00000F5F
CM2CON                            00000F5E
CM2CON1                           00000F5E
CMP1IE                            00000004
CMP1IF                            00000004
CMP1IP                            00000004
CMP1MD                            00000000
CMP1OUT                           00000006
CMP2IE                            00000005
CMP2IF                            00000005
CMP2IP                            00000005
CMP2MD                            00000001
CMP2OUT                           00000007
CMPL0                             00000006
CMPL1                             00000007
CMSTAT                            00000FB4
CMSTATUS                          00000FB4
COE                               00000006
COMSTAT                           00000F71
CON                               00000007
CONTROL                           (3)
CPOL                              00000005
CREF                              00000002
CREN                              00000004
CREN1                             00000004
CREN2                             00000004
CSRC                              00000007
CSRC1                             00000007
CSRC2                             00000007
CTMUCONH                          00000F55
CTMUCONL                          00000F54
CTMUDS                            00000000
CTMUEN                            00000007
CTMUICON                          00000F53
CTMUIE                            00000003
CTMUIF                            00000003
CTMUIP                            00000003
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 53


SYMBOL TABLE
  LABEL                             VALUE 

CTMUMD                            00000006
CTMUSIDL                          00000005
CTTRIG                            00000000
CVR0                              00000000
CVR1                              00000001
CVR2                              00000002
CVR3                              00000003
CVR4                              00000004
CVRCON                            00000FB5
CVREN                             00000007
CVROE                             00000006
CVRSS                             00000005
DATA_ADDRESS                      00000005
DC                                00000001
DC1B0                             00000004
DC1B1                             00000005
DC2B0                             00000004
DC2B1                             00000005
DC3B0                             00000004
DC3B1                             00000005
DC4B0                             00000004
DC4B1                             00000005
DC5B0                             00000004
DC5B1                             00000005
DDR                               DDRB
DDRA                              TRISA
DDRB                              TRISB
DDRC                              TRISC
DDRD                              TRISD
DDRE                              TRISE
DJNZ                              
DLC0                              00000000
DLC1                              00000001
DLC2                              00000002
DLC3                              00000003
DONE                              00000001
D_A                               00000005
D_NOT_A                           00000005
ECANCON                           00000F72
ECANMD                            00000002
ECCP1AS                           00000FBF
ECCP1AS0                          00000004
ECCP1AS1                          00000005
ECCP1AS2                          00000006
ECCP1ASE                          00000007
ECCP1CON                          00000FBB
ECCP1DEL                          00000FBE
ECCP2CON                          00000F50
EDG1POL                           00000004
EDG1SEL0                          00000002
EDG1SEL1                          00000003
EDG1STAT                          00000000
EDG2POL                           00000007
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 54


SYMBOL TABLE
  LABEL                             VALUE 

EDG2SEL0                          00000005
EDG2SEL1                          00000006
EDG2STAT                          00000001
EDGEN                             00000003
EDGSEQEN                          00000002
EDI16                             00000000
EDI17                             00000001
EEADR                             00000F74
EEADRH                            00000F75
EECON1                            00000F7F
EECON2                            00000F7E
EEDATA                            00000F73
EEIE                              00000006
EEIF                              00000006
EEIP                              00000006
EEPGD                             00000007
EICODE0                           00000000
EICODE1                           00000001
EICODE1_ICODE0                    00000001
EICODE2                           00000002
EICODE2_ICODE1                    00000002
EICODE3                           00000003
EICODE3_ICODE2                    00000003
EICODE4                           00000004
EID0                              00000000
EID1                              00000001
EID10                             00000002
EID11                             00000003
EID12                             00000004
EID13                             00000005
EID14                             00000006
EID15                             00000007
EID16                             00000000
EID17                             00000001
EID2                              00000002
EID3                              00000003
EID4                              00000004
EID5                              00000005
EID6                              00000006
EID7                              00000007
EID8                              00000000
EID9                              00000001
ENDRHI                            00000005
EOLNCHAR                          0x0D
ERRIE                             00000005
ERRIF                             00000005
ERRIP                             00000005
EVPOL0                            00000003
EVPOL1                            00000004
EWARN                             00000000
EWIN0                             00000000
EWIN1                             00000001
EWIN2                             00000002
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 55


SYMBOL TABLE
  LABEL                             VALUE 

EWIN3                             00000003
EWIN4                             00000004
EXID                              00000003
EXIDE                             00000003
EXIDEN                            00000003
EXTDATA                           'T'
EXTRTR                            'R'
F0BP_0                            00000000
F0BP_1                            00000001
F0BP_2                            00000002
F0BP_3                            00000003
F10BP_0                           00000000
F10BP_1                           00000001
F10BP_2                           00000002
F10BP_3                           00000003
F11BP_0                           00000004
F11BP_1                           00000005
F11BP_2                           00000006
F11BP_3                           00000007
F12BP_0                           00000000
F12BP_1                           00000001
F12BP_2                           00000002
F12BP_3                           00000003
F13BP_0                           00000004
F13BP_1                           00000005
F13BP_2                           00000006
F13BP_3                           00000007
F14BP_0                           00000000
F14BP_1                           00000001
F14BP_2                           00000002
F14BP_3                           00000003
F15BP_0                           00000004
F15BP_1                           00000005
F15BP_2                           00000006
F15BP_3                           00000007
F1BP_0                            00000004
F1BP_1                            00000005
F1BP_2                            00000006
F1BP_3                            00000007
F2BP_0                            00000000
F2BP_1                            00000001
F2BP_2                            00000002
F2BP_3                            00000003
F3BP_0                            00000004
F3BP_1                            00000005
F3BP_2                            00000006
F3BP_3                            00000007
F4BP_0                            00000000
F4BP_1                            00000001
F4BP_2                            00000002
F4BP_3                            00000003
F5BP_0                            00000004
F5BP_1                            00000005
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 56


SYMBOL TABLE
  LABEL                             VALUE 

F5BP_2                            00000006
F5BP_3                            00000007
F6BP_0                            00000000
F6BP_1                            00000001
F6BP_2                            00000002
F6BP_3                            00000003
F7BP_0                            00000004
F7BP_1                            00000005
F7BP_2                            00000006
F7BP_3                            00000007
F8BP_0                            00000000
F8BP_1                            00000001
F8BP_2                            00000002
F8BP_3                            00000003
F9BP_0                            00000004
F9BP_1                            00000005
F9BP_2                            00000006
F9BP_3                            00000007
FAST                              00000001
FERR                              00000002
FERR1                             00000002
FERR2                             00000002
FIFOWM                            00000005
FIFOWMIE                          00000000
FIFOWMIF                          00000000
FIFOWMIP                          00000000
FIL0_0                            00000000
FIL0_1                            00000001
FIL10_0                           00000004
FIL10_1                           00000005
FIL11_0                           00000006
FIL11_1                           00000007
FIL12_0                           00000000
FIL12_1                           00000001
FIL13_0                           00000002
FIL13_1                           00000003
FIL14_0                           00000004
FIL14_1                           00000005
FIL15_0                           00000006
FIL15_1                           00000007
FIL1_0                            00000002
FIL1_1                            00000003
FIL2_0                            00000004
FIL2_1                            00000005
FIL3_0                            00000006
FIL3_1                            00000007
FIL4_0                            00000000
FIL4_1                            00000001
FIL5_0                            00000002
FIL5_1                            00000003
FIL6_0                            00000004
FIL6_1                            00000005
FIL7_0                            00000006
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 57


SYMBOL TABLE
  LABEL                             VALUE 

FIL7_1                            00000007
FIL8_0                            00000000
FIL8_1                            00000001
FIL9_0                            00000002
FIL9_1                            00000003
FILHIT0                           00000000
FILHIT0_TXPRI0                    00000000
FILHIT1                           00000001
FILHIT1_TXPRI1                    00000001
FILHIT2                           00000002
FILHIT2_RTREN                     00000002
FILHIT3                           00000003
FILHIT3_TXREQ                     00000003
FILHIT4                           00000004
FILHIT4_TXERR                     00000004
FLC0                              00000000
FLC1                              00000001
FLC2                              00000002
FLC3                              00000003
FLC4                              00000004
FP0                               00000000
FP1                               00000001
FP2                               00000002
FP3                               00000003
FREE                              00000004
FSR0                              00000000
FSR0H                             00000FEA
FSR0L                             00000FE9
FSR1                              00000001
FSR1H                             00000FE2
FSR1L                             00000FE1
FSR2                              00000002
FSR2H                             00000FDA
FSR2L                             00000FD9
GCEN                              00000007
GETC                              
GIE                               00000007
GIEH                              00000007
GIEL                              00000006
GIE_GIEH                          00000007
GO                                00000001
GO_NOT_DONE                       00000001
GPIO                              LATB
HASH_HIGH                         00000027
HASH_LOW                          00000026
HEARTBEAT                         00000010
HFIOFS                            00000002
HLVDCON                           00000FA8
HLVDEN                            00000004
HLVDIE                            00000002
HLVDIF                            00000002
HLVDIP                            00000002
HLVDL0                            00000000
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 58


SYMBOL TABLE
  LABEL                             VALUE 

HLVDL1                            00000001
HLVDL2                            00000002
HLVDL3                            00000003
I2CBAUD                           ((((CLOCK / I2CRATE) / 2) - 1) / 2)
I2CINIT                           00000390
I2CRATE                           400000
I2C_DAT                           00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
IBF                               00000007
IBOV                              00000005
ICODE0                            00000001
ICODE1                            00000002
ICODE2                            00000003
ICODE20                           00000001
ICODE21                           00000002
IDISSEN                           00000001
IDLEN                             00000007
INDF0                             00000FEF
INDF1                             00000FE7
INDF2                             00000FDF
INIT                              0000001C
INITCAN                           000000FE
INITCAN1                          00000106
INITCAN2                          00000158
INITRING                          000000E6
INITUART                          00000058
INITUARTAGAIN                     00000070
INT0E                             00000004
INT0F                             00000001
INT0IE                            00000004
INT0IF                            00000001
INT1E                             00000003
INT1F                             00000000
INT1IE                            00000003
INT1IF                            00000000
INT1IP                            00000006
INT1P                             00000006
INT2E                             00000004
INT2F                             00000001
INT2IE                            00000004
INT2IF                            00000001
INT2IP                            00000007
INT2P                             00000007
INT3E                             00000005
INT3F                             00000002
INT3IE                            00000005
INT3IF                            00000002
INT3IP                            00000001
INT3P                             00000001
INTCON                            00000FF2
INTCON1                           00000FF2
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 59


SYMBOL TABLE
  LABEL                             VALUE 

INTCON2                           00000FF1
INTCON3                           00000FF0
INTEDG0                           00000006
INTEDG1                           00000005
INTEDG2                           00000004
INTEDG3                           00000003
INTSRC                            00000007
IOCB                              00000F5A
IOCB4                             00000004
IOCB5                             00000005
IOCB6                             00000006
IOCB7                             00000007
IPEN                              00000007
IPR1                              00000F9F
IPR2                              00000FA2
IPR3                              00000FA5
IPR4                              00000FB8
IPR5                              00000F78
IRCF0                             00000004
IRCF1                             00000005
IRCF2                             00000006
IRNG0                             00000000
IRNG1                             00000001
IRVST                             00000005
IRXIE                             00000007
IRXIF                             00000007
IRXIP                             00000007
ISRHIGH                           0000008C
ISRHIGH1                          0000009E
ISRHIGH2                          000000AC
ISRHIGH3                          000000AE
ISRHIGHEND                        000000C2
ISRLOW                            000000C6
ISRLOWEND                         000000DE
ITRIM0                            00000002
ITRIM1                            00000003
ITRIM2                            00000004
ITRIM3                            00000005
ITRIM4                            00000006
ITRIM5                            00000007
JTOFF                             00000001
JTOFF_FILHIT1                     00000001
LATA                              00000F89
LATA0                             00000000
LATA1                             00000001
LATA2                             00000002
LATA3                             00000003
LATA5                             00000005
LATA6                             00000006
LATA7                             00000007
LATB                              00000F8A
LATB0                             00000000
LATB1                             00000001
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 60


SYMBOL TABLE
  LABEL                             VALUE 

LATB2                             00000002
LATB3                             00000003
LATB4                             00000004
LATB5                             00000005
LATB6                             00000006
LATB7                             00000007
LATC                              00000F8B
LATC0                             00000000
LATC1                             00000001
LATC2                             00000002
LATC3                             00000003
LATC4                             00000004
LATC5                             00000005
LATC6                             00000006
LATC7                             00000007
LATD                              00000F8C
LATD0                             00000000
LATD1                             00000001
LATD2                             00000002
LATD3                             00000003
LATD4                             00000004
LATD5                             00000005
LATD6                             00000006
LATD7                             00000007
LATE                              00000F8D
LATE0                             00000000
LATE1                             00000001
LATE2                             00000002
LVDIE                             00000002
LVDIF                             00000002
LVDIP                             00000002
LVDL0                             00000000
LVDL1                             00000001
LVDL2                             00000002
LVDL3                             00000003
MAIN                              0000004C
MDSEL0                            00000006
MDSEL1                            00000007
MFIOFS                            00000001
MFIOSEL                           00000000
MSEL0                             00000E79
MSEL1                             00000E7A
MSEL2                             00000E7B
MSEL3                             00000E7C
MSK0                              00000000
MSK1                              00000001
MSK2                              00000002
MSK3                              00000003
MSK4                              00000004
MSK5                              00000005
MSK6                              00000006
MSK7                              00000007
N                                 00000004
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 61


SYMBOL TABLE
  LABEL                             VALUE 

NIB2ASC                           0000033E
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BOR                           00000000
NOT_CM                            00000005
NOT_DONE                          00000001
NOT_FIFOEMPTY                     00000007
NOT_PD                            00000002
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_RI                            00000004
NOT_T1DONE                        00000003
NOT_T1SYNC                        00000002
NOT_T3DONE                        00000003
NOT_T3SYNC                        00000002
NOT_TO                            00000003
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
OBF                               00000006
ODCON                             00000F91
OERR                              00000001
OERR1                             00000001
OERR2                             00000001
OPENCMD                           'O'
OPMODE0                           00000005
OPMODE1                           00000006
OPMODE2                           00000007
OSCCON                            00000FD3
OSCCON2                           00000FD2
OSCFIE                            00000007
OSCFIF                            00000007
OSCFIP                            00000007
OSCTUNE                           00000F9B
OSTS                              00000003
OV                                00000003
OVERFLOW                          (256 / 27)
P                                 00000004
P1DC0                             00000000
P1DC1                             00000001
P1DC2                             00000002
P1DC3                             00000003
P1DC4                             00000004
P1DC5                             00000005
P1DC6                             00000006
P1M0                              00000006
P1M1                              00000007
P1RSEN                            00000007
PADCFG1                           00000F56
PC                                00000FF9
PCL                               00000FF9
PCLATH                            00000FFA
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 62


SYMBOL TABLE
  LABEL                             VALUE 

PCLATU                            00000FFB
PD                                00000002
PEIE                              00000006
PEIE_GIEL                         00000006
PEN                               00000002
PIE1                              00000F9D
PIE2                              00000FA0
PIE3                              00000FA3
PIE4                              00000FB6
PIE5                              00000F76
PIO                               1
PIOGET                            000003DA
PIOINIT                           000003AA
PIOTEMP                           00000021
PIOTIME                           00000011
PIR1                              00000F9E
PIR2                              00000FA1
PIR3                              00000FA4
PIR4                              00000FB7
PIR5                              00000F77
PLLEN                             00000006
PLUSW0                            00000FEB
PLUSW1                            00000FE3
PLUSW2                            00000FDB
PMD0                              00000F59
PMD1                              00000F58
PMD2                              00000F57
POR                               00000001
PORTA                             00000F80
PORTB                             00000F81
PORTC                             00000F82
PORTD                             00000F83
PORTE                             00000F84
POSTDEC0                          00000FED
POSTDEC1                          00000FE5
POSTDEC2                          00000FDD
POSTINC0                          00000FEE
POSTINC1                          00000FE6
POSTINC2                          00000FDE
PR2                               00000FCB
PR4                               00000FA9
PREINC0                           00000FEC
PREINC1                           00000FE4
PREINC2                           00000FDC
PROD                              00000FF3
PRODH                             00000FF4
PRODL                             00000FF3
PRSEG0                            00000000
PRSEG1                            00000001
PRSEG2                            00000002
PSA                               00000003
PSPCON                            00000F46
PSPIE                             00000007
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 63


SYMBOL TABLE
  LABEL                             VALUE 

PSPIF                             00000007
PSPIP                             00000007
PSPMD                             00000007
PSPMODE                           00000004
PSS1AC0                           00000002
PSS1AC1                           00000003
PSS1BD0                           00000000
PSS1BD1                           00000001
PSTR1CON                          00000F9C
PTIMECLLOOP                       000003D2
PUTC                              
PWM1CON                           00000FBE
RA0                               00000000
RA1                               00000001
RA2                               00000002
RA3                               00000003
RA5                               00000005
RA6                               00000006
RA7                               00000007
RB0DBEN                           00000002
RB0DBEN_FILHIT2                   00000002
RB0_B0DLC                         00000004
RB0_B1DLC                         00000004
RB0_B2DLC                         00000004
RB0_B3DLC                         00000004
RB0_B4DLC                         00000004
RB0_B5DLC                         00000004
RB0_PORTB                         00000000
RB0_RXB0DLC                       00000004
RB0_RXB1DLC                       00000004
RB1_B0DLC                         00000005
RB1_B1DLC                         00000005
RB1_B2DLC                         00000005
RB1_B3DLC                         00000005
RB1_B4DLC                         00000005
RB1_B5DLC                         00000005
RB1_PORTB                         00000001
RB1_RXB0DLC                       00000005
RB1_RXB1DLC                       00000005
RB2                               00000002
RB3                               00000003
RB4                               00000004
RB5                               00000005
RB6                               00000006
RB7                               00000007
RBIE                              00000003
RBIF                              00000000
RBIP                              00000000
RBPU                              00000007
RC0                               00000000
RC1                               00000001
RC1IE                             00000005
RC1IF                             00000005
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 64


SYMBOL TABLE
  LABEL                             VALUE 

RC1IP                             00000005
RC2                               00000002
RC2IE                             00000005
RC2IF                             00000005
RC2IP                             00000005
RC3                               00000003
RC4                               00000004
RC5                               00000005
RC6                               00000006
RC7                               00000007
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIDL                             00000006
RCIE                              00000005
RCIF                              00000005
RCIP                              00000005
RCMT                              00000006
RCON                              00000FD0
RCREG                             00000FAE
RCREG1                            00000FAE
RCREG2                            00000F7A
RCSTA                             00000FAB
RCSTA1                            00000FAB
RCSTA2                            00000FA6
RD                                00000000
RD0                               00000000
RD1                               00000001
RD16                              00000001
RD2                               00000002
RD3                               00000003
RD4                               00000004
RD5                               00000005
RD6                               00000006
RD7                               00000007
RDPU                              00000007
RE0                               00000000
RE1                               00000001
RE2                               00000002
RE3                               00000003
READSTATUS                        'F'
READ_WRITE                        00000002
REC0                              00000000
REC1                              00000001
REC2                              00000002
REC3                              00000003
REC4                              00000004
REC5                              00000005
REC6                              00000006
REC7                              00000007
REFOCON                           00000F9A
REGSLP                            00000007
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 65


SYMBOL TABLE
  LABEL                             VALUE 

REPU                              00000006
REQOP0                            00000005
REQOP1                            00000006
REQOP2                            00000007
RESETUART                         00000082
RI                                00000004
RODIV0                            00000000
RODIV1                            00000001
RODIV2                            00000002
RODIV3                            00000003
ROON                              00000007
ROSEL                             00000004
ROSSLP                            00000005
RSEN                              00000001
RTREN                             00000002
RTRRO                             00000005
RTSCLR                            
RTSSET                            
RX9                               00000006
RX91                              00000006
RX92                              00000006
RX9D                              00000000
RX9D1                             00000000
RX9D2                             00000000
RXB0CON                           00000F60
RXB0D0                            00000F66
RXB0D00                           00000000
RXB0D01                           00000001
RXB0D02                           00000002
RXB0D03                           00000003
RXB0D04                           00000004
RXB0D05                           00000005
RXB0D06                           00000006
RXB0D07                           00000007
RXB0D1                            00000F67
RXB0D10                           00000000
RXB0D11                           00000001
RXB0D12                           00000002
RXB0D13                           00000003
RXB0D14                           00000004
RXB0D15                           00000005
RXB0D16                           00000006
RXB0D17                           00000007
RXB0D2                            00000F68
RXB0D20                           00000000
RXB0D21                           00000001
RXB0D22                           00000002
RXB0D23                           00000003
RXB0D24                           00000004
RXB0D25                           00000005
RXB0D26                           00000006
RXB0D27                           00000007
RXB0D3                            00000F69
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 66


SYMBOL TABLE
  LABEL                             VALUE 

RXB0D30                           00000000
RXB0D31                           00000001
RXB0D32                           00000002
RXB0D33                           00000003
RXB0D34                           00000004
RXB0D35                           00000005
RXB0D36                           00000006
RXB0D37                           00000007
RXB0D4                            00000F6A
RXB0D40                           00000000
RXB0D41                           00000001
RXB0D42                           00000002
RXB0D43                           00000003
RXB0D44                           00000004
RXB0D45                           00000005
RXB0D46                           00000006
RXB0D47                           00000007
RXB0D5                            00000F6B
RXB0D50                           00000000
RXB0D51                           00000001
RXB0D52                           00000002
RXB0D53                           00000003
RXB0D54                           00000004
RXB0D55                           00000005
RXB0D56                           00000006
RXB0D57                           00000007
RXB0D6                            00000F6C
RXB0D60                           00000000
RXB0D61                           00000001
RXB0D62                           00000002
RXB0D63                           00000003
RXB0D64                           00000004
RXB0D65                           00000005
RXB0D66                           00000006
RXB0D67                           00000007
RXB0D7                            00000F6D
RXB0D70                           00000000
RXB0D71                           00000001
RXB0D72                           00000002
RXB0D73                           00000003
RXB0D74                           00000004
RXB0D75                           00000005
RXB0D76                           00000006
RXB0D77                           00000007
RXB0DBEN                          00000002
RXB0DLC                           00000F65
RXB0EIDH                          00000F63
RXB0EIDL                          00000F64
RXB0IE                            00000000
RXB0IF                            00000000
RXB0IP                            00000000
RXB0OVFL                          00000007
RXB0SIDH                          00000F61
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 67


SYMBOL TABLE
  LABEL                             VALUE 

RXB0SIDL                          00000F62
RXB1CON                           00000F30
RXB1D0                            00000F36
RXB1D00                           00000000
RXB1D01                           00000001
RXB1D02                           00000002
RXB1D03                           00000003
RXB1D04                           00000004
RXB1D05                           00000005
RXB1D06                           00000006
RXB1D07                           00000007
RXB1D1                            00000F37
RXB1D10                           00000000
RXB1D11                           00000001
RXB1D12                           00000002
RXB1D13                           00000003
RXB1D14                           00000004
RXB1D15                           00000005
RXB1D16                           00000006
RXB1D17                           00000007
RXB1D2                            00000F38
RXB1D20                           00000000
RXB1D21                           00000001
RXB1D22                           00000002
RXB1D23                           00000003
RXB1D24                           00000004
RXB1D25                           00000005
RXB1D26                           00000006
RXB1D27                           00000007
RXB1D3                            00000F39
RXB1D30                           00000000
RXB1D31                           00000001
RXB1D32                           00000002
RXB1D33                           00000003
RXB1D34                           00000004
RXB1D35                           00000005
RXB1D36                           00000006
RXB1D37                           00000007
RXB1D4                            00000F3A
RXB1D40                           00000000
RXB1D41                           00000001
RXB1D42                           00000002
RXB1D43                           00000003
RXB1D44                           00000004
RXB1D45                           00000005
RXB1D46                           00000006
RXB1D47                           00000007
RXB1D5                            00000F3B
RXB1D50                           00000000
RXB1D51                           00000001
RXB1D52                           00000002
RXB1D53                           00000003
RXB1D54                           00000004
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 68


SYMBOL TABLE
  LABEL                             VALUE 

RXB1D55                           00000005
RXB1D56                           00000006
RXB1D57                           00000007
RXB1D6                            00000F3C
RXB1D60                           00000000
RXB1D61                           00000001
RXB1D62                           00000002
RXB1D63                           00000003
RXB1D64                           00000004
RXB1D65                           00000005
RXB1D66                           00000006
RXB1D67                           00000007
RXB1D7                            00000F3D
RXB1D70                           00000000
RXB1D71                           00000001
RXB1D72                           00000002
RXB1D73                           00000003
RXB1D74                           00000004
RXB1D75                           00000005
RXB1D76                           00000006
RXB1D77                           00000007
RXB1DLC                           00000F35
RXB1EIDH                          00000F33
RXB1EIDL                          00000F34
RXB1IE                            00000001
RXB1IF                            00000001
RXB1IP                            00000001
RXB1OVFL                          00000006
RXB1SIDH                          00000F31
RXB1SIDL                          00000F32
RXBP                              00000003
RXBUF                             00000180
RXBnIE                            00000001
RXBnIF                            00000001
RXBnIP                            00000001
RXCAN                             00000160
RXCANDLC                          00000206
RXCANEOLN                         00000228
RXCANLIMIT                        0000016E
RXCANMESG                         00000220
RXCNT                             00000006
RXDTP                             00000005
RXERRCNT                          00000E41
RXEXT                             000001BA
RXEXT_23_16                       
RXEXT_28_24                       
RXF0EIDH                          00000EE2
RXF0EIDL                          00000EE3
RXF0EN                            00000000
RXF0SIDH                          00000EE0
RXF0SIDL                          00000EE1
RXF10EIDH                         00000E5A
RXF10EIDL                         00000E5B
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 69


SYMBOL TABLE
  LABEL                             VALUE 

RXF10EN                           00000002
RXF10SIDH                         00000E58
RXF10SIDL                         00000E59
RXF11EIDH                         00000E5E
RXF11EIDL                         00000E5F
RXF11EN                           00000003
RXF11SIDH                         00000E5C
RXF11SIDL                         00000E5D
RXF12EIDH                         00000E62
RXF12EIDL                         00000E63
RXF12EN                           00000004
RXF12SIDH                         00000E60
RXF12SIDL                         00000E61
RXF13EIDH                         00000E66
RXF13EIDL                         00000E67
RXF13EN                           00000005
RXF13SIDH                         00000E64
RXF13SIDL                         00000E65
RXF14EIDH                         00000E6A
RXF14EIDL                         00000E6B
RXF14EN                           00000006
RXF14SIDH                         00000E68
RXF14SIDL                         00000E69
RXF15EIDH                         00000E6E
RXF15EIDL                         00000E6F
RXF15EN                           00000007
RXF15SIDH                         00000E6C
RXF15SIDL                         00000E6D
RXF1EIDH                          00000EE6
RXF1EIDL                          00000EE7
RXF1EN                            00000001
RXF1SIDH                          00000EE4
RXF1SIDL                          00000EE5
RXF2EIDH                          00000EEA
RXF2EIDL                          00000EEB
RXF2EN                            00000002
RXF2SIDH                          00000EE8
RXF2SIDL                          00000EE9
RXF3EIDH                          00000EEE
RXF3EIDL                          00000EEF
RXF3EN                            00000003
RXF3SIDH                          00000EEC
RXF3SIDL                          00000EED
RXF4EIDH                          00000EF2
RXF4EIDL                          00000EF3
RXF4EN                            00000004
RXF4SIDH                          00000EF0
RXF4SIDL                          00000EF1
RXF5EIDH                          00000EF6
RXF5EIDL                          00000EF7
RXF5EN                            00000005
RXF5SIDH                          00000EF4
RXF5SIDL                          00000EF5
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 70


SYMBOL TABLE
  LABEL                             VALUE 

RXF6EIDH                          00000E4A
RXF6EIDL                          00000E4B
RXF6EN                            00000006
RXF6SIDH                          00000E48
RXF6SIDL                          00000E49
RXF7EIDH                          00000E4E
RXF7EIDL                          00000E4F
RXF7EN                            00000007
RXF7SIDH                          00000E4C
RXF7SIDL                          00000E4D
RXF8EIDH                          00000E52
RXF8EIDL                          00000E53
RXF8EN                            00000000
RXF8SIDH                          00000E50
RXF8SIDL                          00000E51
RXF9EIDH                          00000E56
RXF9EIDL                          00000E57
RXF9EN                            00000001
RXF9SIDH                          00000E54
RXF9SIDL                          00000E55
RXFBCON0                          00000E71
RXFBCON1                          00000E72
RXFBCON2                          00000E73
RXFBCON3                          00000E74
RXFBCON4                          00000E75
RXFBCON5                          00000E76
RXFBCON6                          00000E77
RXFBCON7                          00000E78
RXFCON0                           00000E46
RXFCON1                           00000E47
RXFUL                             00000007
RXFUL_TXBIF                       00000007
RXGET                             00000003
RXM0                              00000005
RXM0EIDH                          00000EFA
RXM0EIDL                          00000EFB
RXM0SIDH                          00000EF8
RXM0SIDL                          00000EF9
RXM0_RTRRO                        00000005
RXM1                              00000006
RXM1EIDH                          00000EFE
RXM1EIDL                          00000EFF
RXM1SIDH                          00000EFC
RXM1SIDL                          00000EFD
RXM1_TXABT                        00000006
RXOVF                             00000005
RXPACKET                          0000017A
RXPUT                             00000004
RXRTR                             00000006
RXRTRRO_B0CON                     00000005
RXRTRRO_B1CON                     00000005
RXRTRRO_B2CON                     00000005
RXRTRRO_B3CON                     00000005
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 71


SYMBOL TABLE
  LABEL                             VALUE 

RXRTRRO_B4CON                     00000005
RXRTRRO_B5CON                     00000005
RXRTRRO_FILHIT3                   00000003
RXRTRRO_RXB0CON                   00000003
RXRTRRO_RXB1CON                   00000003
RXRTRRO_TXLARB                    00000005
RXRTR_TXRTR                       00000006
RXSID_10_8                        
RXSID_7_0                         
RXSTD                             0000017E
RXWARN                            00000001
R_NOT_W                           00000002
R_W                               00000002
S                                 00000003
SAM                               00000006
SBOREN                            00000006
SCHEDULE                          0000035A
SCS0                              00000000
SCS1                              00000001
SDFLC                             00000E70
SEG1PH0                           00000003
SEG1PH1                           00000004
SEG1PH2                           00000005
SEG2PH0                           00000000
SEG2PH1                           00000001
SEG2PH2                           00000002
SEG2PHTS                          00000007
SEN                               00000000
SENDB                             00000003
SENDB1                            00000003
SENDB2                            00000003
SID0                              00000005
SID1                              00000006
SID10                             00000007
SID2                              00000007
SID3                              00000000
SID4                              00000001
SID5                              00000002
SID6                              00000003
SID7                              00000004
SID8                              00000005
SID9                              00000006
SJW0                              00000006
SJW1                              00000007
SLRA                              00000000
SLRB                              00000001
SLRC                              00000002
SLRCON                            00000F90
SLRD                              00000003
SLRE                              00000004
SMP                               00000007
SOSCDRV                           00000004
SOSCEN                            00000003
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 72


SYMBOL TABLE
  LABEL                             VALUE 

SOSCGO                            00000003
SOSCRUN                           00000006
SP0                               00000000
SP1                               00000001
SP2                               00000002
SP3                               00000003
SP4                               00000004
SPBRG                             00000FAF
SPBRG1                            00000FAF
SPBRG2                            00000F7B
SPBRGH1                           00000F7D
SPBRGH2                           00000F7C
SPEN                              00000007
SPEN1                             00000007
SPEN2                             00000007
SREN                              00000005
SREN1                             00000005
SREN2                             00000005
SRETEN                            00000004
SRR                               00000004
SSPADD                            00000FC8
SSPBUF                            00000FC9
SSPCON1                           00000FC6
SSPCON2                           00000FC5
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPIP                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPMD                             00000000
SSPOD                             00000007
SSPOV                             00000006
SSPSTAT                           00000FC7
STATUS                            00000FD8
STATUS_LED_OFF                    00000388
STATUS_LED_ON                     0000038C
STDDATA                           't'
STDRTR                            'r'
STKFUL                            00000007
STKOVF                            00000007
STKPTR                            00000FFC
STKUNF                            00000006
STRA                              00000000
STRB                              00000001
STRC                              00000002
STRD                              00000003
STRSYNC                           00000004
SWDTE                             00000000
SWDTEN                            00000000
SYNC                              00000004
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 73


SYMBOL TABLE
  LABEL                             VALUE 

SYNC1                             00000004
SYNC2                             00000004
S_SAVE                            00000001
T08BIT                            00000006
T0CON                             00000FD5
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0IP                              00000002
T0PS0                             00000000
T0PS1                             00000001
T0PS2                             00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000FCD
T1GCON                            00000FAA
T1GGO                             00000003
T1GGO_NOT_T1DONE                  00000003
T1GPOL                            00000006
T1GSPM                            00000004
T1GSS0                            00000000
T1GSS1                            00000001
T1GTM                             00000005
T1GVAL                            00000002
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000FCA
T2OUTPS0                          00000003
T2OUTPS1                          00000004
T2OUTPS2                          00000005
T2OUTPS3                          00000006
T3CKPS0                           00000004
T3CKPS1                           00000005
T3CON                             00000FB1
T3GCON                            00000FB0
T3GGO                             00000003
T3GGO_NOT_T3DONE                  00000003
T3GPOL                            00000006
T3GSPM                            00000004
T3GSS0                            00000000
T3GSS1                            00000001
T3GTM                             00000005
T3GVAL                            00000002
T4CKPS0                           00000000
T4CKPS1                           00000001
T4CON                             00000F88
T4OUTPS0                          00000003
T4OUTPS1                          00000004
T4OUTPS2                          00000005
T4OUTPS3                          00000006
TABLAT                            00000FF5
TBLPTR                            00000FF6
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 74


SYMBOL TABLE
  LABEL                             VALUE 

TBLPTRH                           00000FF7
TBLPTRL                           00000FF6
TBLPTRU                           00000FF8
TCOUNTER                          0000000F
TEC0                              00000000
TEC1                              00000001
TEC2                              00000002
TEC3                              00000003
TEC4                              00000004
TEC5                              00000005
TEC6                              00000006
TEC7                              00000007
TGEN                              00000004
THE                               00000402
TIMERINIT                         00000354
TMR0                              00000FD6
TMR0H                             00000FD7
TMR0IE                            00000005
TMR0IF                            00000002
TMR0IP                            00000002
TMR0L                             00000FD6
TMR0MD                            00000000
TMR0ON                            00000007
TMR1                              00000FCE
TMR1CS0                           00000006
TMR1CS1                           00000007
TMR1GE                            00000007
TMR1GIE                           00000002
TMR1GIF                           00000002
TMR1GIP                           00000002
TMR1H                             00000FCF
TMR1IE                            00000000
TMR1IF                            00000000
TMR1IP                            00000000
TMR1L                             00000FCE
TMR1MD                            00000001
TMR1ON                            00000000
TMR2                              00000FCC
TMR2IE                            00000001
TMR2IF                            00000001
TMR2IP                            00000001
TMR2MD                            00000002
TMR2ON                            00000002
TMR3                              00000FB2
TMR3CS0                           00000006
TMR3CS1                           00000007
TMR3GE                            00000007
TMR3GIE                           00000000
TMR3GIF                           00000000
TMR3GIP                           00000000
TMR3H                             00000FB3
TMR3IE                            00000001
TMR3IF                            00000001
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 75


SYMBOL TABLE
  LABEL                             VALUE 

TMR3IP                            00000001
TMR3L                             00000FB2
TMR3MD                            00000003
TMR3ON                            00000000
TMR4                              00000F87
TMR4IE                            00000007
TMR4IF                            00000007
TMR4IP                            00000007
TMR4MD                            00000004
TMR4ON                            00000002
TO                                00000003
TOP_VAL_NEW                       00000024
TOP_VAL_OLD                       00000025
TOS                               00000FFD
TOSH                              00000FFE
TOSL                              00000FFD
TOSU                              00000FFF
TRIGSEL0                          00000006
TRIGSEL1                          00000007
TRISA                             00000F92
TRISA0                            00000000
TRISA1                            00000001
TRISA2                            00000002
TRISA3                            00000003
TRISA5                            00000005
TRISA6                            00000006
TRISA7                            00000007
TRISB                             00000F93
TRISB0                            00000000
TRISB1                            00000001
TRISB2                            00000002
TRISB3                            00000003
TRISB4                            00000004
TRISB5                            00000005
TRISB6                            00000006
TRISB7                            00000007
TRISC                             00000F94
TRISC0                            00000000
TRISC1                            00000001
TRISC2                            00000002
TRISC3                            00000003
TRISC4                            00000004
TRISC5                            00000005
TRISC6                            00000006
TRISC7                            00000007
TRISD                             00000F95
TRISD0                            00000000
TRISD1                            00000001
TRISD2                            00000002
TRISD3                            00000003
TRISD4                            00000004
TRISD5                            00000005
TRISD6                            00000006
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 76


SYMBOL TABLE
  LABEL                             VALUE 

TRISD7                            00000007
TRISE                             00000F96
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRMT                              00000001
TRMT1                             00000001
TRMT2                             00000001
TUN0                              00000000
TUN1                              00000001
TUN2                              00000002
TUN3                              00000003
TUN4                              00000004
TUN5                              00000005
TX1IE                             00000004
TX1IF                             00000004
TX1IP                             00000004
TX2EN                             00000006
TX2IE                             00000004
TX2IF                             00000004
TX2IP                             00000004
TX2SRC                            00000007
TX8_9                             00000006
TX9                               00000006
TX91                              00000006
TX92                              00000006
TX9D                              00000000
TX9D1                             00000000
TX9D2                             00000000
TXABT                             00000006
TXB0CON                           00000F20
TXB0D0                            00000F26
TXB0D00                           00000000
TXB0D01                           00000001
TXB0D02                           00000002
TXB0D03                           00000003
TXB0D04                           00000004
TXB0D05                           00000005
TXB0D06                           00000006
TXB0D07                           00000007
TXB0D1                            00000F27
TXB0D10                           00000000
TXB0D11                           00000001
TXB0D12                           00000002
TXB0D13                           00000003
TXB0D14                           00000004
TXB0D15                           00000005
TXB0D16                           00000006
TXB0D17                           00000007
TXB0D2                            00000F28
TXB0D20                           00000000
TXB0D21                           00000001
TXB0D22                           00000002
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 77


SYMBOL TABLE
  LABEL                             VALUE 

TXB0D23                           00000003
TXB0D24                           00000004
TXB0D25                           00000005
TXB0D26                           00000006
TXB0D27                           00000007
TXB0D3                            00000F29
TXB0D30                           00000000
TXB0D31                           00000001
TXB0D32                           00000002
TXB0D33                           00000003
TXB0D34                           00000004
TXB0D35                           00000005
TXB0D36                           00000006
TXB0D37                           00000007
TXB0D4                            00000F2A
TXB0D40                           00000000
TXB0D41                           00000001
TXB0D42                           00000002
TXB0D43                           00000003
TXB0D44                           00000004
TXB0D45                           00000005
TXB0D46                           00000006
TXB0D47                           00000007
TXB0D5                            00000F2B
TXB0D50                           00000000
TXB0D51                           00000001
TXB0D52                           00000002
TXB0D53                           00000003
TXB0D54                           00000004
TXB0D55                           00000005
TXB0D56                           00000006
TXB0D57                           00000007
TXB0D6                            00000F2C
TXB0D60                           00000000
TXB0D61                           00000001
TXB0D62                           00000002
TXB0D63                           00000003
TXB0D64                           00000004
TXB0D65                           00000005
TXB0D66                           00000006
TXB0D67                           00000007
TXB0D7                            00000F2D
TXB0D70                           00000000
TXB0D71                           00000001
TXB0D72                           00000002
TXB0D73                           00000003
TXB0D74                           00000004
TXB0D75                           00000005
TXB0D76                           00000006
TXB0D77                           00000007
TXB0DLC                           00000F25
TXB0EIDH                          00000F23
TXB0EIDL                          00000F24
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 78


SYMBOL TABLE
  LABEL                             VALUE 

TXB0IE                            00000002
TXB0IF                            00000002
TXB0IP                            00000002
TXB0SIDH                          00000F21
TXB0SIDL                          00000F22
TXB1CON                           00000F10
TXB1D0                            00000F16
TXB1D00                           00000000
TXB1D01                           00000001
TXB1D02                           00000002
TXB1D03                           00000003
TXB1D04                           00000004
TXB1D05                           00000005
TXB1D06                           00000006
TXB1D07                           00000007
TXB1D1                            00000F17
TXB1D10                           00000000
TXB1D11                           00000001
TXB1D12                           00000002
TXB1D13                           00000003
TXB1D14                           00000004
TXB1D15                           00000005
TXB1D16                           00000006
TXB1D17                           00000007
TXB1D2                            00000F18
TXB1D20                           00000000
TXB1D21                           00000001
TXB1D22                           00000002
TXB1D23                           00000003
TXB1D24                           00000004
TXB1D25                           00000005
TXB1D26                           00000006
TXB1D27                           00000007
TXB1D3                            00000F19
TXB1D30                           00000000
TXB1D31                           00000001
TXB1D32                           00000002
TXB1D33                           00000003
TXB1D34                           00000004
TXB1D35                           00000005
TXB1D36                           00000006
TXB1D37                           00000007
TXB1D4                            00000F1A
TXB1D40                           00000000
TXB1D41                           00000001
TXB1D42                           00000002
TXB1D43                           00000003
TXB1D44                           00000004
TXB1D45                           00000005
TXB1D46                           00000006
TXB1D47                           00000007
TXB1D5                            00000F1B
TXB1D50                           00000000
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 79


SYMBOL TABLE
  LABEL                             VALUE 

TXB1D51                           00000001
TXB1D52                           00000002
TXB1D53                           00000003
TXB1D54                           00000004
TXB1D55                           00000005
TXB1D56                           00000006
TXB1D57                           00000007
TXB1D6                            00000F1C
TXB1D60                           00000000
TXB1D61                           00000001
TXB1D62                           00000002
TXB1D63                           00000003
TXB1D64                           00000004
TXB1D65                           00000005
TXB1D66                           00000006
TXB1D67                           00000007
TXB1D7                            00000F1D
TXB1D70                           00000000
TXB1D71                           00000001
TXB1D72                           00000002
TXB1D73                           00000003
TXB1D74                           00000004
TXB1D75                           00000005
TXB1D76                           00000006
TXB1D77                           00000007
TXB1DLC                           00000F15
TXB1EIDH                          00000F13
TXB1EIDL                          00000F14
TXB1IE                            00000003
TXB1IF                            00000003
TXB1IP                            00000003
TXB1SIDH                          00000F11
TXB1SIDL                          00000F12
TXB2CON                           00000F00
TXB2D0                            00000F06
TXB2D00                           00000000
TXB2D01                           00000001
TXB2D02                           00000002
TXB2D03                           00000003
TXB2D04                           00000004
TXB2D05                           00000005
TXB2D06                           00000006
TXB2D07                           00000007
TXB2D1                            00000F07
TXB2D10                           00000000
TXB2D11                           00000001
TXB2D12                           00000002
TXB2D13                           00000003
TXB2D14                           00000004
TXB2D15                           00000005
TXB2D16                           00000006
TXB2D17                           00000007
TXB2D2                            00000F08
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 80


SYMBOL TABLE
  LABEL                             VALUE 

TXB2D20                           00000000
TXB2D21                           00000001
TXB2D22                           00000002
TXB2D23                           00000003
TXB2D24                           00000004
TXB2D25                           00000005
TXB2D26                           00000006
TXB2D27                           00000007
TXB2D3                            00000F09
TXB2D30                           00000000
TXB2D31                           00000001
TXB2D32                           00000002
TXB2D33                           00000003
TXB2D34                           00000004
TXB2D35                           00000005
TXB2D36                           00000006
TXB2D37                           00000007
TXB2D4                            00000F0A
TXB2D40                           00000000
TXB2D41                           00000001
TXB2D42                           00000002
TXB2D43                           00000003
TXB2D44                           00000004
TXB2D45                           00000005
TXB2D46                           00000006
TXB2D47                           00000007
TXB2D5                            00000F0B
TXB2D50                           00000000
TXB2D51                           00000001
TXB2D52                           00000002
TXB2D53                           00000003
TXB2D54                           00000004
TXB2D55                           00000005
TXB2D56                           00000006
TXB2D57                           00000007
TXB2D6                            00000F0C
TXB2D60                           00000000
TXB2D61                           00000001
TXB2D62                           00000002
TXB2D63                           00000003
TXB2D64                           00000004
TXB2D65                           00000005
TXB2D66                           00000006
TXB2D67                           00000007
TXB2D7                            00000F0D
TXB2D70                           00000000
TXB2D71                           00000001
TXB2D72                           00000002
TXB2D73                           00000003
TXB2D74                           00000004
TXB2D75                           00000005
TXB2D76                           00000006
TXB2D77                           00000007
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 81


SYMBOL TABLE
  LABEL                             VALUE 

TXB2DLC                           00000F05
TXB2EIDH                          00000F03
TXB2EIDL                          00000F04
TXB2IE                            00000004
TXB2IF                            00000004
TXB2IP                            00000004
TXB2SIDH                          00000F01
TXB2SIDL                          00000F02
TXBIE                             00000E7F
TXBIF                             00000007
TXBO                              00000005
TXBP                              00000004
TXBUF                             00000280
TXBnIE                            00000004
TXBnIF                            00000004
TXBnIP                            00000004
TXCAN                             0000023E
TXCAN1                            00000244
TXCAN2                            0000025C
TXCAN3                            000002EC
TXCAN4                            000002FE
TXCAN5                            00000304
TXCANEND                          00000306
TXCANEXT                          000002A8
TXCANRET                          00000316
TXCANSTD                          0000027C
TXCKP                             00000004
TXCNT                             0000000A
TXD8                              00000000
TXEN                              00000005
TXEN1                             00000005
TXEN2                             00000005
TXERR                             00000004
TXERRCNT                          00000E42
TXEXT_17_16                       
TXEXT_20_18                       
TXEXT_23_21                       
TXEXT_28_24                       
TXGET                             00000007
TXIE                              00000004
TXIF                              00000004
TXIP                              00000004
TXLARB                            00000005
TXPRI0                            00000000
TXPRI1                            00000001
TXPUT                             00000008
TXREG                             00000FAD
TXREG1                            00000FAD
TXREG2                            00000F79
TXREQ                             00000003
TXRTR                             00000006
TXSID_10_8                        
TXSID_2_0                         
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 82


SYMBOL TABLE
  LABEL                             VALUE 

TXSID_7_3                         
TXSTA                             00000FAC
TXSTA1                            00000FAC
TXSTA2                            00000FBA
TXTEMP                            00000009
TXWARN                            00000002
U1OD                              00000000
U2OD                              00000001
UA                                00000001
UART                              PORTD
UART1MD                           00000001
UART2MD                           00000002
UARTOVFL                          
UARTRECV                          
UBAUD                             ((((CLOCK / BAUDRATE) / 2) - 1) / 2)
UBAUDCON                          BAUDCON2
UIPR                              IPR3
ULPEN                             00000002
ULPLVL                            00000005
ULPSINK                           00000001
UPIE                              PIE3
UPIR                              PIR3
URCIE                             RC2IE
URCIF                             RC2IF
URCIP                             RC2IP
URCREG                            RCREG2
URCSTA                            RCSTA2
USPBRG                            SPBRG2
USPBRGH                           SPBRGH2
UTXIE                             TX2IE
UTXIF                             TX2IF
UTXIP                             TX2IP
UTXREG                            TXREG2
UTXSTA                            TXSTA2
VCFG0                             00000004
VCFG1                             00000005
VDIRMAG                           00000007
VNCFG                             00000003
W                                 00000000
WAKDIS                            00000007
WAKFIL                            00000006
WAKIE                             00000006
WAKIF                             00000006
WAKIP                             00000006
WCOL                              00000007
WDTCON                            00000FD1
WIN0                              00000001
WIN0_FP1                          00000001
WIN1                              00000002
WIN1_FP2                          00000002
WIN2                              00000003
WIN2_FP3                          00000003
WPUB                              00000F5B
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 83


SYMBOL TABLE
  LABEL                             VALUE 

WPUB0                             00000000
WPUB1                             00000001
WPUB2                             00000002
WPUB3                             00000003
WPUB4                             00000004
WPUB5                             00000005
WPUB6                             00000006
WPUB7                             00000007
WR                                00000001
WREG                              00000FE8
WREN                              00000002
WRERR                             00000003
WUE                               00000001
W_SAVE                            00000002
Z                                 00000002
_BBSIZ_BB1K_4L                    000000EF
_BBSIZ_BB2K_4L                    000000FF
_BOREN_NOSLP_2L                   000000FD
_BOREN_OFF_2L                     000000F9
_BOREN_ON_2L                      000000FB
_BOREN_SBORDIS_2L                 000000FF
_BORPWR_HIGH_2L                   000000DF
_BORPWR_LOW_2L                    0000009F
_BORPWR_MEDIUM_2L                 000000BF
_BORPWR_ZPBORMV_2L                000000FF
_BORV_0_2L                        000000E7
_BORV_1_2L                        000000EF
_BORV_2_2L                        000000F7
_BORV_3_2L                        000000FF
_CANMX_PORTB_3H                   000000FF
_CANMX_PORTC_3H                   000000FE
_CONFIG1H                         00300001
_CONFIG1L                         00300000
_CONFIG2H                         00300003
_CONFIG2L                         00300002
_CONFIG3H                         00300005
_CONFIG4L                         00300006
_CONFIG5H                         00300009
_CONFIG5L                         00300008
_CONFIG6H                         0030000B
_CONFIG6L                         0030000A
_CONFIG7H                         0030000D
_CONFIG7L                         0030000C
_CP0_OFF_5L                       000000FF
_CP0_ON_5L                        000000FE
_CP1_OFF_5L                       000000FF
_CP1_ON_5L                        000000FD
_CP2_OFF_5L                       000000FF
_CP2_ON_5L                        000000FB
_CP3_OFF_5L                       000000FF
_CP3_ON_5L                        000000F7
_CPB_OFF_5H                       000000FF
_CPB_ON_5H                        000000BF
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 84


SYMBOL TABLE
  LABEL                             VALUE 

_CPD_OFF_5H                       000000FF
_CPD_ON_5H                        0000007F
_DEVID1                           003FFFFE
_DEVID2                           003FFFFF
_EBTR0_OFF_7L                     000000FF
_EBTR0_ON_7L                      000000FE
_EBTR1_OFF_7L                     000000FF
_EBTR1_ON_7L                      000000FD
_EBTR2_OFF_7L                     000000FF
_EBTR2_ON_7L                      000000FB
_EBTR3_OFF_7L                     000000FF
_EBTR3_ON_7L                      000000F7
_EBTRB_OFF_7H                     000000FF
_EBTRB_ON_7H                      000000BF
_FCMEN_OFF_1H                     000000BF
_FCMEN_ON_1H                      000000FF
_FOSC_EC1IO_1H                    000000FC
_FOSC_EC1_1H                      000000FD
_FOSC_EC2IO_1H                    000000FA
_FOSC_EC2_1H                      000000FB
_FOSC_EC3IO_1H                    000000F4
_FOSC_EC3_1H                      000000F5
_FOSC_HS1_1H                      000000F3
_FOSC_HS2_1H                      000000F2
_FOSC_INTIO1_1H                   000000F9
_FOSC_INTIO2_1H                   000000F8
_FOSC_LP_1H                       000000F0
_FOSC_RCIO_1H                     000000F7
_FOSC_RC_1H                       000000F6
_FOSC_XT_1H                       000000F1
_IDLOC0                           00200000
_IDLOC1                           00200001
_IDLOC2                           00200002
_IDLOC3                           00200003
_IDLOC4                           00200004
_IDLOC5                           00200005
_IDLOC6                           00200006
_IDLOC7                           00200007
_IESO_OFF_1H                      0000007F
_IESO_ON_1H                       000000FF
_INTOSCSEL_HIGH_1L                000000FF
_INTOSCSEL_LOW_1L                 000000FB
_MCLRE_OFF_3H                     0000007F
_MCLRE_ON_3H                      000000FF
_MSSPMSK_MSK5_3H                  000000F7
_MSSPMSK_MSK7_3H                  000000FF
_PLLCFG_OFF_1H                    000000EF
_PLLCFG_ON_1H                     000000FF
_PWRTEN_OFF_2L                    000000FF
_PWRTEN_ON_2L                     000000FE
_RETEN_OFF_1L                     000000FF
_RETEN_ON_1L                      000000FE
_SOSCSEL_DIG_1L                   000000F7
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 85


SYMBOL TABLE
  LABEL                             VALUE 

_SOSCSEL_HIGH_1L                  000000FF
_SOSCSEL_LOW_1L                   000000EF
_STVREN_OFF_4L                    000000FE
_STVREN_ON_4L                     000000FF
_WDTEN_NOSLP_2H                   000000FD
_WDTEN_OFF_2H                     000000FC
_WDTEN_ON_2H                      000000FE
_WDTEN_SWDTDIS_2H                 000000FF
_WDTPS_1024_2H                    000000AB
_WDTPS_1048576_2H                 000000FF
_WDTPS_128_2H                     0000009F
_WDTPS_131072_2H                  000000C7
_WDTPS_16384_2H                   000000BB
_WDTPS_16_2H                      00000093
_WDTPS_1_2H                       00000083
_WDTPS_2048_2H                    000000AF
_WDTPS_256_2H                     000000A3
_WDTPS_262144_2H                  000000CB
_WDTPS_2_2H                       00000087
_WDTPS_32768_2H                   000000BF
_WDTPS_32_2H                      00000097
_WDTPS_4096_2H                    000000B3
_WDTPS_4_2H                       0000008B
_WDTPS_512_2H                     000000A7
_WDTPS_524288_2H                  000000CF
_WDTPS_64_2H                      0000009B
_WDTPS_65536_2H                   000000C3
_WDTPS_8192_2H                    000000B7
_WDTPS_8_2H                       0000008F
_WRT0_OFF_6L                      000000FF
_WRT0_ON_6L                       000000FE
_WRT1_OFF_6L                      000000FF
_WRT1_ON_6L                       000000FD
_WRT2_OFF_6L                      000000FF
_WRT2_ON_6L                       000000FB
_WRT3_OFF_6L                      000000FF
_WRT3_ON_6L                       000000F7
_WRTB_OFF_6H                      000000FF
_WRTB_ON_6H                       000000BF
_WRTC_OFF_6H                      000000FF
_WRTC_ON_6H                       000000DF
_WRTD_OFF_6H                      000000FF
_WRTD_ON_6H                       0000007F
_XINST_OFF_1L                     000000BF
_XINST_ON_1L                      000000FF
__18F45K80                        00000001
__ACC_RAM_LOW_END                 0000005F
__ACC_RAM_LOW_START               00000000
__CODE_END                        00007FFF
__CODE_START                      00000000
__EEPROM_END                      00F003FF
__EEPROM_START                    00F00000
__VECTOR_INT_HIGH                 00000008
gpasm-1.4.0 #1135 (Jul  7 2015) canbuster_4xk   3-11-2016  15:43:21         PAGE 86


SYMBOL TABLE
  LABEL                             VALUE 

__VECTOR_INT_LOW                  00000018
__VECTOR_RESET                    00000000


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : XXXX----XXXX---- --------XXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
01C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0200 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0240 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0280 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
02C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0300 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0340 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0380 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
03C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0400 : XX-------------- ---------------- ---------------- ----------------
0000 : XXXX-XX-XXXXXX-- ---------------- ---------------- ----------------

All other memory blocks unused.

Program Memory Bytes Used:  1022
Program Memory Bytes Free: 31746


Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :     0 reported,   195 suppressed

